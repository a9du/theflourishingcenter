jQuery(document).ready(function(cg){function au(cE,cH,cG,cI){for(var cF=0;cF<cE.length;++cF){var cB=cg(cE[cF]),cD=cB.attr("accessally-dependency-value"),cC=cB.attr("accessally-dependency-value-not"),cJ;if(typeof cD!==typeof undefined&&cD!==false){cJ=cD.split(",");if(cg.inArray(cH,cJ)>=0){cG(cB)}else{cI(cB)}}if(typeof cC!==typeof undefined&&cC!==false){cJ=cC.split("|");if(cg.inArray(cH,cJ)<0){cG(cB)}else{cI(cB)}}}}cg(document).on("change","[accessally-dependency-source]",function(){var cB=cg(this),cE="no",cD=cB.attr("accessally-dependency-source"),cC=cg('[accessally-dependency="'+cD+'"]');if(cB.attr("type")==="checkbox"){if(cB.is(":checked")){cE="yes"}}else{cE=cB.val()}if(cE){cE=cE.replace(/\"/g,'\\"')}au(cC.filter("[hide-toggle]"),cE,function(cF){cF.show()},function(cF){cF.hide()})});function cy(cB){var cC=cB.attr("style");if(typeof cC===typeof undefined||cC===false){cC=""}else{if(cC.length>0&&!cC.endsWith(";")){cC+=";"}}cC+="background-color:#ff0000 !important;";cB.attr("style",cC)}function p(cB){var cC=cB.attr("style");if(typeof cC===typeof undefined||cC===false){cC=""}else{cC=cC.replace("background-color:#ff0000 !important;","")}cB.attr("style",cC)}function bG(cB){var cC=[];cB.each(function(cE,cF){var cD=cg(cF);if(cD.val()){return}cC.push(cD);cy(cD)});if(cC.length>0){setTimeout(function(){for(var cD=0;cD<cC.length;++cD){p(cC[cD])}},200);return false}return true}cg(document).on("submit",".accessally-form-field-check",function(){var cB=cg(this).find(".accessally-form-field-required");return bG(cB.filter(":visible"))});function a6(){if(typeof YT==="undefined"||typeof YT.Player==="undefined"){var cB=document.createElement("script");cB.src="https://www.youtube.com/iframe_api";var cC=document.getElementsByTagName("script")[0];cC.parentNode.insertBefore(cB,cC)}}function aN(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)}function a3(cB){if(aN()){if(cB in A&&"started" in A[cB]){return A[cB]["started"]}return false}return true}function aH(cB){if("accessally_video_ordinal" in cB.target){if(!a3(cB.target.accessally_video_ordinal)){return}}cB.target.playVideo()}function bh(cB){if(cB.data!=-1){A[cB.target.accessally_video_ordinal]["started"]=true}}function bL(cC){var cB={};if(cC){var cF=cC.split("&"),cD,cE;for(cD=0;cD<cF.length;++cD){cE=cF[cD].split("=");if(cE.length>1){cB[cE[0]]=cE[1]}}}return cB}var ao=0,A={};function bD(cC){var cB=cC.attr("accessally-video-ordinal"),cD;if(A[cB]["started"]){cD=A[cB]["player"];if(cD.getPlayerState()==-1){cD.stopVideo();cD.playVideo()}}}function bq(cD,cF,cE){var cC=cD.attr("width"),cJ=cD.attr("height"),cK=cD.attr("arg"),cB=bL(cK),cH="accessally-webinar-div-"+cF+"-"+ao,cG={videoId:cF,playerVars:cB,events:{onStateChange:bh}},cI;cD.html('<div id="'+cH+'"></div>');if(cC){cG.width=cC}if(cJ){cG.height=cJ}if(cE){cG.events["onReady"]=aH}cI=new YT.Player(cH,cG);cI.accessally_video_ordinal=ao;A[ao]={started:false,player:cI};cD.attr("accessally-video-ordinal",ao);++ao}function ah(cB,cE,cD){var cC=cB.attr("state");if(cC!=="show"){bq(cB,cE,cD);cB.attr("state","show")}else{bD(cB)}}function ci(cD,cE){var cH=cD.attr("state");if(cH==="wait"){var cF=cD.attr("width"),cC=cD.attr("height"),cI=cD.attr("frameborder"),cB=cD.attr("arg"),cG="";if(cF){cG+=' width="'+cF+'"'}if(cC){cG+=' height="'+cC+'"'}cD.html("<iframe"+cG+' src="'+cE+"&amp;"+cB+'" frameborder="'+cI+'" allowfullscreen></iframe>');cD.attr("state","legacy")}}function ag(cB){var cF=cB.attr("state");if(cF!=="wait"){var cE=cB.attr("wait-text"),cD=cB.attr("start-time"),cC=cg('<div class="accessally-webinar-countdown" accessally-countdown-start="'+cD+'"></div>');cC.attr("accessally-countdown-format",cE);cB.html(cC);cB.attr("state","wait")}}function s(cD,cC){try{var cB=JSON.parse(cC);if("url" in cB){if("yid" in cB&&ct()){cg(".accessally-webinar-pending[post-id="+cD+"]").each(function(cF,cG){ah(cg(cG),cB.yid,true)})}else{cg(".accessally-webinar-pending[post-id="+cD+"]").each(function(cF,cG){ci(cg(cG),cB.url)})}}else{cg(".accessally-webinar-pending[post-id="+cD+"]").each(function(cF,cG){ag(cg(cG))})}}catch(cE){}setTimeout(aI,5000,cD)}function aI(cB){var cC={action:"accessally_pending_webinar",submit_nonce:accessally_script_object.webinar_nonce,pid:cB};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cC,success:function(cD){s(cB,cD)}})}function am(){var cC={};cg(".accessally-webinar-pending[post-id]").each(function(cF,cG){var cE=cg(cG),cD=cE.attr("post-id");cC[cD]=0});for(var cB in cC){setTimeout(aI,5000,cB)}}function ct(){return typeof YT!=="undefined"&&typeof YT.Player!=="undefined"}function a(){if(ct()){cg("[accessally-webinar-init]").each(function(cC,cD){var cB=cg(cD),cE=cB.attr("accessally-webinar-init");ah(cB,cE,false)})}else{setTimeout(a,1000)}}function aU(cH,cF,cD){var cC=cH[1].indexOf("{{"+cF+"}}"),cB=cH[1].indexOf("{{"+cF+cF+"}}"),cG=cH[1].indexOf("{{"+cF+"2}}");if(cC>-1||cB>-1||cG>-1){var cE=Math.floor(cH[0]/cD);if(cD<=1){cH[0]=0}else{cH[0]=cH[0]%cD}if(cB>-1){if(cE<10){cE="0"+cE}cH[1]=cH[1].replace("{{"+cF+cF+"}}",cE)}else{if(cG>-1){cH[1]=cH[1].replace("{{"+cF+"1}}",Math.floor(cE/10));cH[1]=cH[1].replace("{{"+cF+"2}}",cE%10)}else{cH[1]=cH[1].replace("{{"+cF+"}}",cE)}}}return cH}function bP(cB,cF){var cG=cB.attr("accessally-countdown-start"),cE=cB.attr("accessally-countdown-format"),cC=cG-cF,cD=null;if(cC<0){cC=0}cD=[cC,cE];cD=aU(cD,"d",86400);cD=aU(cD,"h",3600);cD=aU(cD,"m",60);cD=aU(cD,"s",1);cB.html(cD[1]);if(cC<=0){return false}return true}function cs(cM,cF,cD,cC,cI){var cN=cD.includes(cC),cG=cD.includes(cC+cC),cB=cD.includes(cC+"2"),cJ,cL,cK;if(cN||cG||cB){var cH=Math.floor(cF[0]/cI),cE=Math.floor(cF[1]/cI);if(cI<=1){cF[0]=0;cF[1]=0}else{cF[0]=cF[0]%cI;cF[1]=cF[1]%cI}if(cG){if(cH<10){cH="0"+cH}if(cE<10){cE="0"+cE}cJ=cC+cC;if(cH!==cE){cF[2].push(cJ);cM.find('[accessally-countdown-value="'+cJ+'"]').text(cH);cM.find('[accessally-countdown-attr="'+cJ+'"]').attr("accessally-countdown-display-data",cH);cM.find('[accessally-countdown-pre-value="'+cJ+'"]').text(cE);cM.find('[accessally-countdown-pre-attr="'+cJ+'"]').attr("accessally-countdown-display-data",cE)}}else{if(cB){cL=Math.floor(cH/10)%10;cK=Math.floor(cE/10)%10;if(cL!==cK){cF[2].push(cC+"1");cM.find('[accessally-countdown-value="'+cC+'1"]').text(cL);cM.find('[accessally-countdown-attr="'+cC+'1"]').attr("accessally-countdown-display-data",cL);cM.find('[accessally-countdown-pre-value="'+cC+'1"]').text(cK);cM.find('[accessally-countdown-pre-attr="'+cC+'1"]').attr("accessally-countdown-display-data",cK)}cL=cH%10;cK=cE%10;if(cL!==cK){cF[2].push(cC+"2");cM.find('[accessally-countdown-value="'+cC+'2"]').text(cL);cM.find('[accessally-countdown-attr="'+cC+'2"]').attr("accessally-countdown-display-data",cL);cM.find('[accessally-countdown-pre-value="'+cC+'2"]').text(cK);cM.find('[accessally-countdown-pre-attr="'+cC+'2"]').attr("accessally-countdown-display-data",cK)}}else{if(cH!==cE){cF[2].push(cC);cM.find('[accessally-countdown-value="'+cJ+'"]').text(cH);cM.find('[accessally-countdown-attr="'+cJ+'"]').attr("accessally-countdown-display-data",cH);cM.find('[accessally-countdown-pre-value="'+cJ+'"]').text(cE);cM.find('[accessally-countdown-pre-attr="'+cJ+'"]').attr("accessally-countdown-display-data",cE)}}}}return cF}function N(cH,cJ){var cE=cH.attr("accessally-countdown-start"),cB=cH.attr("accessally-countdown-current"),cF=cH.attr("accessally-fancy-countdown"),cI=cE-cJ,cC=cE-cB,cG=null,cD,cK=[],cL;if(cB>=cJ){return false}if(cI<0){cI=0}cF=cF.split("|");cG=[cI,cC,[]];cG=cs(cH,cG,cF,"d",86400);cG=cs(cH,cG,cF,"h",3600);cG=cs(cH,cG,cF,"m",60);cG=cs(cH,cG,cF,"s",1);if(cG[2].length>0){for(cL in cG[2]){cD=cH.find(".accessally-countdown-digit-"+cG[2][cL]);cD.removeClass("accessally-countdown-flip");cK.push(cD);void cD[0].offsetWidth}for(cL in cK){cK[cL].addClass("accessally-countdown-flip")}}cH.attr("accessally-countdown-current",cJ);if(cI<=0){return false}return true}function f(){var cE=Math.floor((new Date()).getTime()/1000),cD=cg("[accessally-countdown-format][accessally-countdown-start]"),cB=cg("[accessally-fancy-countdown][accessally-countdown-start]");for(var cC=0;cC<cD.length;++cC){bP(cg(cD[cC]),cE)}for(var cC=0;cC<cB.length;++cC){N(cg(cB[cC]),cE)}}setInterval(f,500);f();cg(document).on("click touchend","[accessally-tab-header][accessally-tab-iden]",function(){var cI=cg(this),cH=cI.attr("accessally-tab-header"),cB=cI.attr("accessally-tab-iden"),cD=cI.attr("accessally-filmstrip-count"),cC=cg('[accessally-tab-content="'+cH+'"][accessally-tab-iden="'+cB+'"]');cg('[accessally-tab-header="'+cH+'"]').removeClass("accessally-active-tab-header");cI.addClass("accessally-active-tab-header");cg('[accessally-tab-content="'+cH+'"]').hide();ap(cC);cC.show();if(typeof cD!==typeof undefined&&cD!==false){var cG=cI.parent("[accessally-filmstrip-data]"),cE=cG.attr("accessally-filmstrip-data"),cF=cE.split(",");cF[2]=cD;cG.attr("accessally-filmstrip-data",cF.join(","))}});cg(document).on("click touchend",".accessally-filmstrip-left",function(){var cH=cg(this),cG=cH.parent("[accessally-filmstrip-data]");if(cG.length===1){var cC=cG.attr("accessally-filmstrip-data"),cF=cC.split(","),cI=parseInt(cF[0]),cE=parseInt(cF[1]),cD=parseInt(cF[2]),cB=parseInt(cF[3]);if(cE>0){--cE;cF[1]=cE;cG.find('[accessally-filmstrip-count="'+cE+'"]').show();cG.find('[accessally-filmstrip-count="'+(cE+cI)+'"]').hide();if(cD>=cE+cI){cD=cE+cI-1;cG.find('[accessally-filmstrip-count="'+cD+'"]').click();cF[2]=cD}cG.attr("accessally-filmstrip-data",cF.join(","))}if(cE<=0){cH.addClass("accessally-direction-disabled")}if(cE<cB-cI){cH.siblings(".accessally-filmstrip-right").removeClass("accessally-direction-disabled")}}});cg(document).on("click touchend",".accessally-filmstrip-right",function(){var cH=cg(this),cG=cH.parent("[accessally-filmstrip-data]");if(cG.length===1){var cC=cG.attr("accessally-filmstrip-data"),cF=cC.split(","),cI=parseInt(cF[0]),cE=parseInt(cF[1]),cD=parseInt(cF[2]),cB=parseInt(cF[3]);if(cE<cB-cI){cG.find('[accessally-filmstrip-count="'+(cE)+'"]').hide();cG.find('[accessally-filmstrip-count="'+(cE+cI)+'"]').show();++cE;cF[1]=cE;if(cD<cE){cD=cE;cG.find('[accessally-filmstrip-count="'+cD+'"]').click();cF[2]=cD}cG.attr("accessally-filmstrip-data",cF.join(","))}if(cE>0){cH.siblings(".accessally-filmstrip-left").removeClass("accessally-direction-disabled")}if(cE>=cB-cI){cH.addClass("accessally-direction-disabled")}}});function bu(){cg("[accessally-tab-content]:not(:visible)").find("iframe").each(function(cC,cD){var cB=cg(cD),cE=cB.attr("src");cB.removeAttr("src").attr("accessally-delay-src",cE)})}function ap(cB){cB.find("iframe[accessally-delay-src]").each(function(cD,cE){var cC=cg(cE),cF=cC.attr("accessally-delay-src");cC.removeAttr("accessally-delay-src").attr("src",cF)})}cg(document).on("submit","form.accessally-add-tag-form",function(cF){var cE=cg(this),cD=cE.attr("accessally-submitted"),cC=cE.attr("accessally-confirmation");if(cD){cF.preventDefault();return false}if(cC){var cB=confirm(cC);if(cB!==true){cF.preventDefault();return false}}cE.attr("accessally-submitted","yes");return true});cg(document).on("click touchend","form.accessally-add-tag-form div.accessally-add-tag-button, form.accessally-add-tag-form div.accessally-add-tag-button *",function(){var cB=cg(this).closest("form.accessally-add-tag-form");cB.trigger("submit");return false});function Z(cF,cC){try{var cB=JSON.parse(cC);if("status" in cB){if(cB.status==0){cF.after(cB.message)}else{if("message" in cB&&cB.message){if("redirect" in cB&&cB.redirect>0){window.location.href=cB.message}else{try{cF.after(cB.message)}catch(cD){}}}if("fid" in cB&&cB.fid){cg('[accessally-field-update="'+cB.fid+'"]').val(cB.fv).text(cB.fv)}}}}catch(cE){}}cg(document).on("submit","form.accessally-field-operation-form",function(cG){var cF=cg(this),cE=cF.attr("accessally-submitted"),cC=cF.attr("accessally-confirmation"),cI=cF.attr("accessally-operation-id"),cH=cg('.accessally-field-operation-form[accessally-operation-id="'+cI+'"]'),cD;if(cE){cG.preventDefault();return false}cH.hide();if(cC){var cB=confirm(cC);if(cB!==true){cH.show();cG.preventDefault();return false}}cH.attr("accessally-submitted","yes");cg('.accessally-field-operation-wait[accessally-operation-id="'+cI+'"]').show();cD={action:"accessally_custom_field_operation",info:encodeURIComponent(cF.serialize())};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cD,success:function(cJ){Z(cH,cJ);cg('.accessally-field-operation-wait[accessally-operation-id="'+cI+'"]').hide()}});return false});cg(document).on("click touchend","form.accessally-field-operation-form div.accessally-field-operation-button, form.accessally-field-operation-form div.accessally-field-operation-button *",function(){var cB=cg(this).closest("form.accessally-field-operation-form");cB.trigger("submit");return false});function aS(){cg("[accessally-local-time]").each(function(cE,cG){var cC=cg(cG),cH=cC.attr("accessally-local-time"),cD=new Date(parseInt(cH)*1000),cF=cD.toString(),cI=cF.indexOf("GMT"),cB=-1;if(cI>=0){cB=cF.indexOf(" ",cI);if(cB>0){cF=cF.replace(cF.substring(cI,cB),"")}}cC.text(cF)});am();bu();if(cg(".accessally-webinar-pending").length>0||cg("[accessally-webinar-init]").length>0){a6();setTimeout(a,500)}}aS();if(document.addEventListener){document.addEventListener("ambitionallyrefresh",function(cB){aS()},false)}else{if(document.attachEvent){document.attachEvent("ambitionallyrefresh",function(cB){aS()})}}function o(){var cD=cg(this),cB=cg(cD.attr("accessally-update-container")),cC=new FormData();cC.append("action","accessally_upload_profile_image");if(this.files.length>0){cC.append("file",this.files[0],this.files[0].name)}else{return}cB.addClass("accessally-upload-in-progress");cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cC,cache:false,dataType:"json",processData:false,contentType:false,success:function(cE){a7(cE,cB);cD.val("")}})}function a7(cC,cB){try{if("error" in cC){throw cC.error}else{cB.find(".accessally-profile-image-update-target").css("background-image","url("+cC.url+")")}}catch(cD){alert(cD)}finally{cB.removeClass("accessally-upload-in-progress")}}cg(document).on("change",".accessally-profile-image-upload",o);function bz(cB){return cB.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")}var cc={};cg(document).on("click touchend","[accessally-inline-field-update-trigger]",function(cD){var cC=cg(this),cB=cC.attr("accessally-inline-field-update-trigger");bm(cC,"field",cB)});cg(document).on("click touchend","[accessally-inline-profile-update-trigger]",function(cD){var cC=cg(this),cB=cC.attr("accessally-inline-profile-update-trigger");bm(cC,"profile",cB)});function bm(cG,cF,cB){var cH=cg("#accessally-inline-"+cF+"-edit-"+cB),cI=cH.find("[accessally-inline-"+cF+"-value]"),cD=cI.attr("accessally-inline-"+cF+"-value"),cE=cI.val(),cC=cF+"-"+cD;cG.hide();cH.show();cg("#accessally-inline-"+cF+"-display-"+cB).hide();if(!(cC in cc)){cc[cC]=cE}cI.focus().select()}cg(document).on("keypress","input[accessally-inline-field-input]",function(cC){if(cC.keyCode==13){cC.preventDefault();var cB=cg(this).attr("accessally-inline-field-input");bb("field",cB);return false}});cg(document).on("keypress","input[accessally-inline-profile-input]",function(cC){if(cC.keyCode==13){cC.preventDefault();var cB=cg(this).attr("accessally-inline-profile-input");bb("profile",cB);return false}});cg(document).on("keydown","[accessally-inline-field-input]",function(cC){if(cC.keyCode==27){cC.preventDefault();var cB=cg(this).attr("accessally-inline-field-input");cz("field",cB);return false}});cg(document).on("keydown","[accessally-inline-profile-input]",function(cC){if(cC.keyCode==27){cC.preventDefault();var cB=cg(this).attr("accessally-inline-profile-input");cz("profile",cB);return false}});function cz(cC,cB){cg("#accessally-inline-"+cC+"-display-"+cB).show();cg("[accessally-inline-"+cC+'-update-trigger="'+cB+'"]').css("display","");cg("#accessally-inline-"+cC+"-edit-"+cB).hide()}cg(document).on("click touchend","[accessally-inline-field-update-submit]",function(cC){var cB=cg(this).attr("accessally-inline-field-update-submit");bb("field",cB)});cg(document).on("click touchend","[accessally-inline-profile-update-submit]",function(cC){var cB=cg(this).attr("accessally-inline-profile-update-submit");bb("profile",cB)});cg(document).on("click touchend","[accessally-inline-field-update-cancel]",function(cC){var cB=cg(this).attr("accessally-inline-field-update-cancel");cz("field",cB)});cg(document).on("click touchend","[accessally-inline-profile-update-cancel]",function(cC){var cB=cg(this).attr("accessally-inline-profile-update-cancel");cz("profile",cB)});function bb(cJ,cG){var cD=cg("#accessally-inline-"+cJ+"-edit-"+cG),cH=cD.find("[accessally-inline-"+cJ+"-value]"),cI=cH.attr("accessally-inline-"+cJ+"-value"),cC=cI.split("---"),cB=cH.val(),cF=cJ+"-"+cI;if(cF in cc&&cc[cF]===cB){cz(cJ,cG);return}cg("[accessally-inline-"+cJ+'-wait="'+cI+'"]').show();var cE={action:"accessally_inline_"+cJ+"_update",field:cC[0],val:cB,submit_nonce:accessally_script_object.webinar_nonce};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cK){try{K(cK,cJ,cI,cF)}catch(cL){alert(cL)}finally{cg("[accessally-inline-"+cJ+'-update="'+cI+'"]').css("display","");cg("[accessally-inline-"+cJ+'-display="'+cI+'"]').show();cg("[accessally-inline-"+cJ+'-edit="'+cI+'"]').hide();cg("[accessally-inline-"+cJ+'-wait="'+cI+'"]').hide()}}});return false}function K(cD,cH,cG,cF){var cB=JSON.parse(cD),cI,cE,cC;if("status" in cB){if(cB.status==="error"){throw cB.message}cI=cB.value;cE=bz(cj(cI));cC=cg("[accessally-inline-"+cH+'-value="'+cG+'"]');cC.val(cI);cg("[accessally-inline-"+cH+'-display="'+cG+'"]').html(cE);cg("[accessally-inline-"+cH+'-link="'+cG+'"]').text(cI).attr("href",cI);if(cI.length>0){cC.find('option[value=""]').remove()}delete cc[cF]}else{throw accessally_script_object.INVALID_DATA}}cg(document).on("click touchend","[accessally-user-directory-update-button]",function(cC){var cB=cg(this).attr("accessally-user-directory-update-button");aQ(cB)});cg(document).on("keypress","[accessally-user-directory-update]",function(cD){if(cD.keyCode==13){cD.preventDefault();var cC=cg(this),cB=cg(this).attr("accessally-user-directory-update");cC.blur();aQ(cB);return false}});cg(document).on("click touchend","[accessally-user-directory-page-first]",function(cE){var cB=cg(this).attr("accessally-user-directory-page-first"),cD=cg("#accessally-user-directory-page-input-"+cB),cC=parseInt(cD.val());if(cC>1){cD.val(1);aQ(cB)}});cg(document).on("click touchend","[accessally-user-directory-page-previous]",function(cE){var cB=cg(this).attr("accessally-user-directory-page-previous"),cD=cg("#accessally-user-directory-page-input-"+cB),cC=parseInt(cD.val());if(cC>1){cD.val(Math.max(1,cC-1));aQ(cB)}});cg(document).on("click touchend","[accessally-user-directory-page-next]",function(cF){var cC=cg(this).attr("accessally-user-directory-page-next"),cE=cg("#accessally-user-directory-page-input-"+cC),cB=parseInt(cg("#accessally-user-directory-page-max-"+cC).text()),cD=parseInt(cE.val());if(cD<cB){cE.val(Math.min(cB,cD+1));aQ(cC)}});cg(document).on("click touchend","[accessally-user-directory-page-last]",function(cF){var cC=cg(this).attr("accessally-user-directory-page-last"),cE=cg("#accessally-user-directory-page-input-"+cC),cB=parseInt(cg("#accessally-user-directory-page-max-"+cC).text()),cD=parseInt(cE.val());if(cD<cB){cE.val(cB);aQ(cC)}});cg(document).on("change","[accessally-user-directory-live-update]",function(cC){var cB=cg(this).attr("accessally-user-directory-live-update");aQ(cB)});function aQ(cJ){var cB=cg("#accessally-user-directory-search-input-"+cJ).val(),cK=cg("#accessally-user-directory-page-input-"+cJ).val(),cD=cg("#accessally-user-directory-filter-select-"+cJ).val(),cE=cg("#accessally-user-directory-segment-select-"+cJ+"-"+cD),cI=cg("#accessally-user-directory-update-nonce-"+cJ).val(),cH=cg("#accessally-user-directory-randomize-"+cJ).val(),cC=cg("#accessally-user-directory-update-dir-"+cJ).val(),cL=cg("#accessally-user-directory-wait-"+cJ),cG="|-|all|-|";cL.show();if(cE.length>0){cG=cE.val()}var cF={action:"accessally_refresh_user_directory",search:cB,filter:cD,segment:cG,page:cK,randomize:cH,nonce:cI,dir:cC};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cF,success:function(cM){try{bs(cM,cJ)}catch(cN){alert(cN)}finally{cL.hide()}}});return false}function bs(cD,cC){var cE=cg("#accessally-user-directory-container-"+cC),cB;cE.empty();cB=JSON.parse(cD);if("status" in cB){if(cB.status==="error"){throw cB.message}cE.html(cB.code);cg('[accessally-user-directory-page-input="'+cC+'"]').val(cB.page);cg('[accessally-user-directory-page-max="'+cC+'"]').text(cB["max-page"])}else{throw accessally_script_object.INVALID_DATA}}cg(document).on("change","[accessally-duplicate-input-source]",function(){var cC=cg(this),cB=cC.attr("accessally-duplicate-input-source"),cD=cC.val();cg('[accessally-duplicate-input-dependent="'+cB+'"]').val(cD)});cg(document).on("change","[accessally-duplicate-input-dependent]",function(){var cC=cg(this),cB=cC.attr("accessally-duplicate-input-dependent"),cD=cC.val();cg('[accessally-duplicate-input-source="'+cB+'"]').val(cD)});function ca(cF){var cE=[],cB=[];cF.find('input[type="hidden"],input[type="text"],input[type="email"],textarea').each(function(cI,cJ){var cH=cg(cJ),cG=cH.attr("accessally-field");if(typeof cG!==typeof undefined&&cG!==false){cE.push(cG);cB.push(cH.val())}});cF.find('input[type="radio"]:checked').each(function(cI,cJ){var cH=cg(cJ),cG=cH.attr("name");if(typeof cG!==typeof undefined&&cG!==false){cE.push(cG);cB.push(cH.attr("value"))}});cF.find('input[type="checkbox"]:checked').each(function(cI,cJ){var cH=cg(cJ),cG=cH.attr("accessally-field");if(typeof cG!==typeof undefined&&cG!==false){cE.push(cG);cB.push(cH.attr("value"))}});cF.find("select").each(function(cI,cJ){var cH=cg(cJ),cG=cH.attr("accessally-field");if(typeof cG!==typeof undefined&&cG!==false){cE.push(cG);cB.push(cH.children(":selected").val())}});cF.find("td").each(function(cI,cJ){var cH=cg(cJ),cG=cH.attr("accessally-field");if(typeof cG!==typeof undefined&&cG!==false){cE.push(cG);cB.push(cH.text())}});var cD={data:{},"error-element":[]},cC;cD=aZ(cF,cD);for(cC in cD.data){cE.push(cC);cB.push(cD.data[cC])}return[cE,cB]}function cd(cG){var cC=[],cE=ca(cG),cF=cE[0],cB=cE[1],cD=0;for(;cD<cF.length;++cD){if("address_state"===cF[cD]){continue}cC.push(encodeURIComponent(cF[cD])+"="+encodeURIComponent(cB[cD]))}return cC.join("&")}var ak={};function cn(cB,cC){if(!(cB in ak)){ak[cB]={}}ak[cB]["status"]=cC}function bU(cB){if(cB in ak&&"status" in ak[cB]){return ak[cB]["status"]}return -99}function bV(cB,cD){if(!(cB in ak)){ak[cB]={}}ak[cB]["order"]=cD;for(var cC in cD){cg("#accessally-order-form-"+cC+"-"+cB).val(cD[cC])}}function bS(cB,cD){if(!(cB in ak)){ak[cB]={}}if(!("order" in ak[cB])){ak[cB]["order"]={}}for(var cC in cD){ak[cB]["order"][cC]=cD[cC];cg("#accessally-order-form-"+cC+"-"+cB).val(cD[cC])}}function br(cB,cD){if(cB in ak&&"order" in ak[cB]&&cD in ak[cB]["order"]){return ak[cB]["order"][cD]}var cC=cg("#accessally-order-form-"+cD+"-"+cB),cE;if(cC.length>0){cE=cC.val();return cE}return false}cg(document).on("keypress","[accessally-order-form-step-1-input]",function(cD){var cC=cD.keyCode||cD.which;if(cC==13){var cB=cg(this).attr("accessally-order-form-step-1-input");S(cB);cD.preventDefault();return false}});cg(document).on("touchend click","[accessally-order-form-step-1-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-step-1-submit");S(cB)});cg(document).on("touchend click",".accessally-order-form-flex-step-1 [accessally-order-form-flex-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");S(cB)});function bc(cC){var cD=cg("#accessally-order-form-first-name-"+cC),cF=cD.val(),cE=cF.trim(),cB=true;if(cE!==cF){cF=cE;cD.val(cF)}if(cF.length<=0){cD.addClass("accessally-order-form-error-input");cB=false}cD=cg("#accessally-order-form-last-name-"+cC);cF=cD.val();cE=cF.trim();if(cE!==cF){cF=cE;cD.val(cF)}if(cF.length<=0){cD.addClass("accessally-order-form-error-input");cB=false}cD=cg("#accessally-order-form-email-"+cC);cF=cD.val();cE=cF.trim();if(cE!==cF){cF=cE;cD.val(cF)}if(!cF.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i)){cD.addClass("accessally-order-form-error-input");cB=false}if(!ai(cC,"step-1","")){cB=false}return cB}function v(cB){cg("#accessally-order-form-step-1-"+cB).hide();var cC=cg("#accessally-order-form-step-2-"+cB);cC.addClass("accessally-order-form-step-2-active").show();h(cC,false);bA();at(cB)}function S(cM){var cL=cg("#accessally-order-form-nonce-"+cM).val(),cO=br(cM,"oid"),cJ=br(cM,"soid"),cB=br(cM,"promo-id"),cC=br(cM,"coupon"),cG=cg('[accessally-paypal-order-form="'+cM+'"]').length,cH=cg("#accessally-order-form-step-1-"+cM),cF=D();if(cH.length===1){if(!bc(cM)){return false}var cE=cd(cH),cK=br(cM,"uid");cn(cM,0);ac(cM,0);cg("#accessally-order-form-wait-overlay-paypal-"+cM+" .accessally-order-form-wait-message").hide();var cI={action:"accessally_start_order",nonce:cL,oid:cO,uid:cK,pid:cB,coupon:cC,soid:cJ,ppal:cG,info:cE,aff:cF,url:window.location.href};cg("#accessally-order-form-error-"+cM).hide();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cI,success:function(cP){b2(cP,cM);aq(cg("#accessally-order-form-"+cM),cH.find('[accessally-field="first-name"]').val(),cH.find('[accessally-field="last-name"]').val(),cH.find('[accessally-field="email"]').val())},error:function(cR,cP,cQ){cn(cM,-2);ac(cM,-1);cg("#accessally-order-form-error-"+cM).text(accessally_script_object.SERVER_ERROR).show()}})}var cD=cg("#accessally-order-form-first-name-"+cM).val(),cN=cg("#accessally-order-form-last-name-"+cM).val();cg("#accessally-order-form-billing-first-name-"+cM).val(cD);cg("#accessally-order-form-billing-last-name-"+cM).val(cN);cg("#accessally-order-form-cc-name-"+cM).val(cD+" "+cN);v(cM);return false}var aE={};function b2(cD,cC){try{ac(cC,-1);var cB=JSON.parse(cD);if("status" in cB){if(cB.status==1){if("order" in cB){cn(cC,1);bV(cC,cB.order)}if("paypal" in cB){ac(cC,1);k(cC,cB.paypal);if(cC in aE){cg("#accessally-order-form-wait-overlay-paypal-"+cC).hide();cg("#accessally-order-form-wait-message-paypal-start-"+cC).hide();cA(cC)}}}else{if(cB.status<0){throw cB.message}}}}catch(cE){cn(cC,-2);ac(cC,-1);cg("#accessally-order-form-error-"+cC).text(cE).show()}}function bE(cB,cC,cD){if(cC.parents("#accessally-order-form-step-2-paypal-"+cB).length>0){if("paypal"!==cD){return false}}if(cC.parents("#accessally-order-form-step-2-cc-"+cB).length>0){if("cc"!==cD){return false}}return true}function bB(cC,cB,cD){cg('[accessally-order-form-item-details="'+cC+'"]').html(cB.code["item-details"]);cg('[accessally-order-form-item-summary="'+cC+'"]').html(cB.code["item-summary"]);if("paypal"===cD){cg('[accessally-order-form-order-summary-paypal="'+cC+'"]').html(cB.code["order-summary"])}else{cg('[accessally-order-form-order-summary-cc="'+cC+'"]').html(cB.code["order-summary"])}cg('[accessally-order-form-flex-item-summary="'+cC+'"]').each(function(cE,cF){let $elem=cg(cF);if(bE(cC,$elem,cD)){$elem.html(cB.code["item-summary-flex"])}});cg('[accessally-order-form-flex-future-payment-container="'+cC+'"]').each(function(cE,cF){let $elem=cg(cF);if(bE(cC,$elem,cD)){if(cB.code["future-payment-flex"].length<=0){$elem.hide();$elem.find("[accessally-order-form-flex-future-payment]").html("")}else{$elem.show();$elem.find("[accessally-order-form-flex-future-payment]").html(cB.code["future-payment-flex"])}}})}var O={};function E(cL){var cN=cg("#accessally-order-form-location-update-"+cL).val();if(cN<=0){return}cg('[accessally-order-form-location-update-wait-overlay="'+cL+'"]').show();cg('[accessally-order-form-location-update-cc-wait-overlay="'+cL+'"]').show();if(!(cL in O)){O[cL]=0}var cM=++O[cL],cR=br(cL,"oid"),cH=br(cL,"soid"),cD=br(cL,"promo-id"),cG=br(cL,"coupon"),cK=br(cL,"uid"),cJ=cg("#accessally-order-form-nonce-"+cL).val(),cI=cg("#accessally-order-form-step-1-"+cL),cE=cg("#accessally-order-form-step-2-cc-"+cL),cC=cg(".accessally-order-form-flex-step-2-container-"+cL+"-general"),cO=cd(cI),cB=cd(cE),cP=cd(cC),cQ={data:{},"error-element":[]},cF={action:"accessally_update_credit_card_billing_location",oid:cR,soid:cH,uid:cK,pid:cD,coupon:cG,info1:cO,url:window.location.href,nonce:cJ};cQ=I(cL,cQ);cB+="&state="+encodeURIComponent(cQ.data["address_state"]);if(cP.length>0){cB+="&"+cP}cF.info2=cB;cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cF,success:function(cS){if(cM>=O[cL]){bK(cS,cL);cg('[accessally-order-form-location-update-wait-overlay="'+cL+'"]').hide();cg('[accessally-order-form-location-update-cc-wait-overlay="'+cL+'"]').hide()}},error:function(cU,cS,cT){cg("#accessally-order-form-error-"+cL).text(accessally_script_object.SERVER_ERROR).show();cg('[accessally-order-form-location-update-wait-overlay="'+cL+'"]').hide();cg('[accessally-order-form-location-update-cc-wait-overlay="'+cL+'"]').hide()}})}function bK(cD,cC){try{var cB=JSON.parse(cD);if("status" in cB){if(cB.status>0){bB(cC,cB,"cc")}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){cg("#accessally-order-form-error-"+cC).text(cE).show()}}function ac(cB,cC){if(!(cB in ak)){ak[cB]={}}ak[cB]["paypal_status"]=cC}function F(cB){if(cB in ak&&"paypal_status" in ak[cB]){return ak[cB]["paypal_status"]}return -1}function k(cB,cD){if(!(cB in ak)){ak[cB]={}}ak[cB]["paypal"]=cD;for(var cC in cD){cg("#accessally-order-form-pp-"+cC+"-"+cB).val(cD[cC])}}function cv(cB,cD){if(cB in ak&&"paypal" in ak[cB]&&cD in ak[cB]["paypal"]){return ak[cB]["paypal"][cD]}var cC=cg("#accessally-order-form-pp-"+cD+"-"+cB),cE;if(cC.length>0){cE=cC.val();if(cE.length>0){return cE}}return false}function ab(cB,cC){if("start"===cC){cg("#accessally-order-form-paypal-express-start-block-"+cB).show()}else{cg("#accessally-order-form-paypal-express-start-block-"+cB).hide()}if("wait"===cC){cg("#accessally-order-form-paypal-express-wait-block-"+cB).show()}else{cg("#accessally-order-form-paypal-express-wait-block-"+cB).hide()}if("confirm"===cC){cg("#accessally-order-form-paypal-express-confirm-block-"+cB).show()}else{cg("#accessally-order-form-paypal-express-confirm-block-"+cB).hide()}if("retry"===cC){cg("#accessally-order-form-paypal-express-retry-block-"+cB).show()}else{cg("#accessally-order-form-paypal-express-retry-block-"+cB).hide()}bA()}function ch(cB){if(cB in b4&&false!==b4[cB]){clearInterval(b4[cB]);b4[cB]=false}if(cB in ay&&false!==ay[cB]){ay[cB].close();ay[cB]=false}if(cB in b0&&false!==b0[cB]){clearInterval(b0[cB]);b0[cB]=false}}var b4=new Object,ay=new Object,b0=new Object;function ad(cB,cD){ch(cB);var cC=window.open(cD,"pp","toolbar=no, menubar=no, resizable=yes");if(cC){b4[cB]=setInterval(function(){if(cC.closed){ch(cB);bC(cC,cB)}try{if(cC.accessally_paypal_status){cC.close();ch(cB);bC(cC,cB)}}catch(cE){}},100);ay[cB]=cC}ab(cB,"wait");b0[cB]=setInterval(function(){bY(cB)},5000)}function bY(cB){var cC=F(cB);if(cC>=3){ch(cB);return}by(cB,false)}function cA(cC){var cD=F(cC);if(1<=cD){delete aE[cC];ac(cC,2);var cB=cv(cC,"redirect");ad(cC,cB)}else{if(0<=cD){cg("#accessally-order-form-wait-message-paypal-start-"+cC).show();cg("#accessally-order-form-wait-overlay-paypal-"+cC).show();aE[cC]="yes"}else{cg("#accessally-order-form-error-"+cC).text(accessally_script_object.PAYPAL_INITIALIZATION_ERROR).show()}}}cg(document).on("touchend click","[accessally-paypal-express-start]",function(cC){var cB=cg(this).attr("accessally-paypal-express-start");cA(cB)});cg(document).on("touchend click",".accessally-order-form-flex-paypal-express-start-block [accessally-order-form-flex-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");cA(cB)});cg(document).on("touchend click",".accessally-order-form-flex-paypal-express-wait-block [accessally-order-form-flex-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");cA(cB)});cg(document).on("touchend click","[accessally-paypal-express-reopen]",function(cC){var cB=cg(this).attr("accessally-paypal-express-reopen");cA(cB)});cg(document).on("touchend click",".accessally-order-form-flex-paypal-express-reopen-block [accessally-order-form-flex-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");cA(cB)});cg(document).on("change","[accessally-order-form-flex-tax-id]",function(cD){var cC=cg(this),cB=cC.attr("accessally-order-form-flex-tax-id");if(cC.parents("#accessally-order-form-step-2-paypal-"+cB).length>0){by(cB,true)}else{if(cC.parents("#accessally-order-form-step-2-cc-"+cB).length>0){E(cB)}else{let selected_payment_method="cc",$selected_payment_tab=cg('.accessally-order-form-payment-selected[accessally-order-form-payment][form-ordinal="'+cB+'"]');if($selected_payment_tab.length>0){selected_payment_method=$selected_payment_tab.attr("accessally-order-form-payment")}if("paypal"===selected_payment_method){by(cB,true)}else{E(cB)}}}});cg(document).on("change","[accessally-order-form-billing-tax-id-paypal]",function(cD){var cC=cg(this),cB=cC.attr("accessally-order-form-billing-tax-id-paypal");by(cB,true)});function by(cB,cC){let order_id=cg("#accessally-order-form-oid-"+cB).val(),paypal_nonce=cv(cB,"nonce"),paypal_uid=cv(cB,"id"),$step_1_container=cg("#accessally-order-form-step-1-"+cB),$step_2_container=cg("#accessally-order-form-step-2-paypal-"+cB),$step_2_general_container=cg(".accessally-order-form-flex-step-2-container-"+cB+"-general"),step_1_info=cd($step_1_container),step_2_info=cd($step_2_container),step_2_general_info=cd($step_2_general_container);if(!paypal_uid){return}if(step_2_general_info.length>0){if(step_2_info.length>0){step_2_info+="&"}step_2_info+=step_2_general_info}let data={action:"accessally_get_paypal_express_info",nonce:paypal_nonce,oid:order_id,uid:paypal_uid,info1:step_1_info,info2:step_2_info,f:cC?"yes":"no"};if(cC){cg("#accessally-order-form-wait-overlay-paypal-"+cB+" .accessally-order-form-wait-message").hide();cg("#accessally-order-form-wait-message-paypal-info-"+cB).show();cg("#accessally-order-form-wait-overlay-paypal-"+cB).show();cg("#accessally-order-form-error-"+cB).hide()}cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:data,success:function(cD){q(cD,cB,cC)},error:function(cF,cD,cE){if(cC){cg("#accessally-order-form-error-"+cB).text(accessally_script_object.SERVER_ERROR).show()}},complete:function(){if(cC){cg("#accessally-order-form-wait-message-paypal-info-"+cB).hide();cg("#accessally-order-form-wait-overlay-paypal-"+cB).hide()}}})}function bC(cD,cB){var cC=cD.accessally_paypal_status;if(cC!=="cancel"){by(cB,true)}}function q(cD,cC,cE){try{var cB=JSON.parse(cD);if("status" in cB){if(0==cB.status){return}else{if(1==cB.status){ac(cC,3);bB(cC,cB,"paypal");ab(cC,"confirm");ch(cC);if("show-tax-id" in cB&&"yes"===cB["show-tax-id"]){cg('[accessally-order-form-billing-tax-id-container-paypal="'+cC+'"]').show();cg("#accessally-order-form-step-2-paypal-"+cC+" .accessally-order-form-flex-tax-id-container").show();cg(".accessally-order-form-flex-step-2-container-"+cC+"-general .accessally-order-form-flex-tax-id-container").show()}else{cg('[accessally-order-form-billing-tax-id-container-paypal="'+cC+'"]').hide();cg("#accessally-order-form-step-2-paypal-"+cC+" .accessally-order-form-flex-tax-id-container").hide();cg(".accessally-order-form-flex-step-2-container-"+cC+"-general .accessally-order-form-flex-tax-id-container").hide()}}else{throw cB.message}}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cF){if(cE){cg("#accessally-order-form-error-"+cC).text(cF).show()}}}cg(document).on("touchend click","[accessally-paypal-express-confirm]",function(cC){var cB=cg(this).attr("accessally-paypal-express-confirm");d(cB)});cg(document).on("touchend click",".accessally-order-form-flex-paypal-express-confirm-block [accessally-order-form-flex-submit]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");d(cB)});function d(cP){var cQ=br(cP,"oid"),cM=br(cP,"soid"),cE=br(cP,"promo-id"),cD=cg("#accessally-order-form-first-name-"+cP).val(),cS=cg("#accessally-order-form-last-name-"+cP).val(),cN=cg("#accessally-order-form-email-"+cP).val(),cB=cg("#accessally-order-form-nonce-"+cP).val(),cG=cv(cP,"nonce"),cO=cv(cP,"id"),cI=cg("#accessally-order-form-step-1-"+cP),cK=cg("#accessally-order-form-step-2-paypal-"+cP),cH=cg(".accessally-order-form-flex-step-2-container-"+cP+"-general"),cC=cd(cI),cF=cd(cK),cR=cd(cH),cJ=D();if(!ai(cP,"step-2","paypal")){return}if(!bF(cP,"paypal")){return}cg("#accessally-order-form-wait-overlay-paypal-"+cP+" .accessally-order-form-wait-message").hide();cg("#accessally-order-form-wait-message-paypal-confirm-"+cP).show();cg("#accessally-order-form-wait-overlay-paypal-"+cP).show();if(cR.length>0){if(cF.length>0){cF+="&"}cF+=cR}var cL=cx(cP,"paypal"),cT={action:"accessally_confirm_paypal_express",ononce:cB,nonce:cG,uid:cO,oid:cQ,soid:cM,pid:cE,fname:cD,lname:cS,email:cN,aff:cJ,info1:cC,info2:cF,mcheck:cL,url:window.location.href};cg("#accessally-order-form-error-"+cP).hide();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cT,success:function(cU){var cV=bM(cU,cP);if(cV){cg("#accessally-order-form-wait-overlay-paypal-"+cP).hide()}},error:function(cW,cU,cV){cg("#accessally-order-form-error-"+cP).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-order-form-wait-overlay-paypal-"+cP).hide()},complete:function(){cg("#accessally-order-form-wait-message-paypal-confirm-"+cP).hide()}});return false}function bM(cD,cC){try{var cB=JSON.parse(cD);if("status" in cB){if(cB.status==1){ac(cC,4);cn(cC,3);var cG=cB.result;if("redirect"===cG.action){window.location=cG.url;return false}else{if("display"===cG.action){try{cg("#accessally-order-form-success-message-"+cC).html(cG.code);cg('[accessally-order-form-flex-success-message="'+cC+'"]').html(cG.code)}catch(cE){}aJ();cg("#accessally-order-form-step-2-"+cC).hide();cg("#accessally-order-form-step-3-"+cC).show();bA();return true}else{throw cj(cG.message)}}}else{if(cB.status==-2){ac(cC,1);ab(cC,"retry");return true}else{throw cB.message}}}else{throw cj(accessally_script_object.UNKNOWN_ERROR)}}catch(cF){cg("#accessally-order-form-error-paypal-confirm-"+cC).html(cF).show();cg("#accessally-order-form-paypal-express-confirm-block-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').html(cF).show()}return true}cg(document).on("touchend click",".accessally-order-form-mandatory-condition-label a",function(cD){var cC=cg(this),cB=cC.attr("target");if("_blank"!==cB){cC.attr("target","_blank")}cD.stopPropagation()});cg(document).on("touchend click","[accessally-order-form-mandatory-condition-container]",function(cD){if(cD.target!==this){return}var cC=cg(this).attr("accessally-order-form-mandatory-condition-container"),cB=cg("#accessally-order-form-mandatory-condition-input-"+cC);cB.prop("checked",!cB.is(":checked"));cD.stopPropagation();return false});cg(document).on("touchend click","[accessally-order-form-flex-checkbox-container]",function(cD){if(cD.target!==this){return}var cC=cg(this).attr("accessally-order-form-flex-checkbox-container"),cB=cg("#accessally-order-form-flex-label-checkbox-input-"+cC);cB.prop("checked",!cB.is(":checked"));cD.stopPropagation();return false});cg(document).on("change","[accessally-order-form-mandatory-condition-input]",function(){var cB=cg(this).attr("accessally-order-form-mandatory-condition-input");cg("#accessally-order-form-mandatory-condition-container-"+cB).removeClass("accessally-order-form-condition-error")});function bF(cC,cD){var cB=cg("#accessally-order-form-mandatory-condition-input-"+cD+"-"+cC);if(cB.length<1){return true}if(cB.is(":checked")){return true}cg("#accessally-order-form-mandatory-condition-container-"+cD+"-"+cC).addClass("accessally-order-form-condition-error");return false}function cx(cC,cD){var cB=cg("#accessally-order-form-mandatory-condition-input-"+cD+"-"+cC);if(cB.length<1){return 0}if(cB.is(":checked")){return 1}return 0}var c=false;function bX(){if(typeof Stripe!=="undefined"){if(accessally_script_object.pay.stripe_key.length>0){if("stripe_account_id" in accessally_script_object.pay&&accessally_script_object.pay.stripe_account_id.length>0){c=Stripe(accessally_script_object.pay.stripe_key,accessally_script_object.pay.stripe_account_id)}else{c=Stripe(accessally_script_object.pay.stripe_key)}}}else{setTimeout(bX,1000)}}function bH(){if(typeof Stripe==="undefined"){var cB=document.createElement("script");cB.src="https://js.stripe.com/v3/";var cC=document.getElementsByTagName("script")[0];cC.parentNode.insertBefore(cB,cC)}}if(cg("[accessally-stripe-order-form]").length>0){if(accessally_script_object.pay.stripe_key.length>0){bH();aP();bX()}}var b7={};function C(cH,cG,cF){var cE=cg(cF),cD={base:{color:cE.css("color"),fontSize:cE.css("font-size"),lineHeight:cE.css("line-height")}},cB={style:cD},cI=cE.attr("accessally-placeholder"),cC;if(cI){cB.placeholder=cI}cC=cH.create(cG,cB);cC.mount(cF);return cC}function at(cB){if(accessally_script_object.pay.stripe_key.length<=0||typeof Stripe==="undefined"){return}delete b7[cB];var cE=cg("#accessally-order-form-credit-card-number-"+cB);if(cE.length<1){return}if(cE.hasClass("accessally-stripe-initialized")){return}var cD=c.elements(),cC=C(cD,"cardNumber","#accessally-order-form-credit-card-number-"+cB);C(cD,"cardExpiry","#accessally-order-form-credit-card-expiry-"+cB);C(cD,"cardCvc","#accessally-order-form-credit-card-cvv-"+cB);b7[cB]=cC}function cb(){if(typeof bambora==="undefined"){var cB=document.createElement("script");cB.src="https://libs.na.bambora.com/checkoutfields/1.1.1/checkoutfields.js";var cC=document.getElementsByTagName("script")[0];cC.parentNode.insertBefore(cB,cC)}}if(cg("[accessally-bambora-na-order-form]").length>0){if("yes"===accessally_script_object.pay.bambora_na){cb();aP()}}function aP(){if(accessally_script_object.pay.recaptcha&&accessally_script_object.pay.recaptcha.length>0){var cB=document.createElement("script");cB.src="https://www.google.com/recaptcha/api.js?render=explicit";var cC=document.getElementsByTagName("script")[0];cC.parentNode.insertBefore(cB,cC)}}function l(cC,cE,cF){if("undefined"!==typeof(grecaptcha)&&accessally_script_object.pay.recaptcha&&accessally_script_object.pay.recaptcha.length>0){var cB=cF.attr("accessally-recaptcha-id");if(cB){grecaptcha.reset(cB)}else{cF.append('<div style="display:none" class="accessally-recaptcha-elem"></div>');var cD=cF.find(".accessally-recaptcha-elem")[0];cB=grecaptcha.render(cD,{sitekey:accessally_script_object.pay.recaptcha,callback:function(cG){a0(cC,cE,cG)},size:"invisible"});cF.attr("accessally-recaptcha-id",cB)}grecaptcha.execute(cB)}else{a0(cC,cE,"")}}var a1={number:"number",exp_year:"expiry_year",exp_month:"expiry_month",cvc:"cvd"};function al(cF){var cC={},cE,cD,cB;for(cE in a1){if(cE in cF){cC[a1[cE]]=cF[cE]}else{cC[a1[cE]]=""}}cD=cC.expiry_year;if(cD.length>2){cD=cD.substring(cD.length-2);cC.expiry_year=cD}cB=cC.expiry_month;if(cB.length<2){cB="0"+cB;cC.expiry_month=cB}return cC}var J={name:["name",true],number:["number",true],exp_year:["year",true],exp_month:["month",true],cvc:["cvv",true]},ce={name:["name",true]},bl={address_line1:["address1",true],address_line2:["address2",false],address_city:["city",true],address_zip:["zip",true],address_country:["country",true]};function a9(cG,cE,cD,cH){var cI=false,cF=cG.data,cB,cC;for(var cJ in cE){cB=cg("#"+cD+cE[cJ][0]+"-"+cH);cC="";if(cB.length>0){cC=cB.val()}if(cC.length<=0){if(cE[cJ][1]){cG["error-element"].push(cB);cI=accessally_script_object.MISSING_REQUIRED_INFO}}else{cF[cJ]=cC}}cG.data=cF;cG.error=cI;return cG}function cp(cB){var cC={data:{},"error-element":[]};if(accessally_script_object.pay.stripe_key.length>0&&typeof Stripe!=="undefined"){cC=a9(cC,ce,"accessally-order-form-cc-",cB)}else{if("yes"===accessally_script_object.pay.bambora_na&&typeof bambora!=="undefined"){cC=a9(cC,J,"accessally-order-form-cc-",cB)}}if(cC.error){cC["cc-error"]=cj(cC.error)}if("number" in cC.data){if("yes"===accessally_script_object.pay.bambora_na&&typeof bambora!=="undefined"){var cE=bambora.Validator.isValidCardNumber(cC.data["number"],false);if(!cE.isValid){cC["error-element"].push(cg("#accessally-order-form-cc-number-"+cB));cC["cc-error"]=cE.error}}}cC=a9(cC,bl,"accessally-order-form-billing-",cB);if(cC.error){cC["billing-error"]=cj(cC.error)}cC=I(cB,cC);if(cC.error){cC["billing-error"]=cC.error}if("yes"===accessally_script_object.pay.bambora_na&&typeof bambora!=="undefined"){var cD={data:{},"error-element":[]};cD=a9(cD,{phone:["phone",true]},"accessally-order-form-billing-",cB);if(cD.error){cC["error-element"].push(cg("#accessally-order-form-billing-phone-"+cB));cC["billing-error"]=cD.error}}return cC}function a0(cB,cE,cD){cn(cB,2);cg("#accessally-order-form-wait-overlay-cc-"+cB).show();try{if(accessally_script_object.pay.stripe_key.length>0&&typeof Stripe!=="undefined"){if(!cB in b7){throw accessally_script_object.UNKNOWN_ERROR}c.createToken(b7[cB],cE.data).then(function(cH){if(cH.error){cg("#accessally-order-form-error-cc-"+cB).text(cH.error.message).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(cH.error.message).show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();cn(cB,-1);return}bn(cB,cH.token.id,cD)})}else{if("yes"===accessally_script_object.pay.bambora_na&&typeof bambora!=="undefined"){var cC=al(cE.data),cF=new bambora.AjaxHelper();cF.getToken(cC,function(cH){if(!cH.success){cg("#accessally-order-form-error-cc-"+cB).text(cH.message+"["+cH.code+"]").show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(cH.message+"["+cH.code+"]").show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();cn(cB,-1);return}bn(cB,cH.token,cD)})}else{cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.MERCHANT_ACCOUNT_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.MERCHANT_ACCOUNT_ERROR).show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();cn(cB,-1)}}}catch(cG){cg("#accessally-order-form-error-cc-"+cB).text(cG).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(cG).show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();cn(cB,-1)}}function bg(cB,cC,cD){var cE=bU(cB);if(cE<-1){cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();return}if(0!==cE){l(cB,cC,cD);return}setTimeout(function(){bg(cB,cC,cD)},200)}cg(document).on("touchend click","[accessally-cc-pay]",function(cD){var cC=cg(this),cB=cC.attr("accessally-cc-pay");bQ(cB,cC)});cg(document).on("touchend click",'[accessally-order-form-payment-input="cc"] [accessally-order-form-flex-submit]',function(cD){var cC=cg(this),cB=cC.attr("accessally-order-form-flex-submit");bQ(cB,cC)});function bQ(cB,cG){var cH,cE,cC=true,cD,cF;cg("#accessally-order-form-error-billing-"+cB).hide();cg("#accessally-order-form-error-cc-"+cB).hide();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').hide();if(cg("#accessally-order-form-cc-number-"+cB).length<=0&&!(cB in b7)){ba(cB);return}cE=cp(cB);if(cE["error-element"].length>0){cC=false;for(cD=0;cD<cE["error-element"].length;++cD){cE["error-element"][cD].addClass("accessally-order-form-error-input")}}if(cE["cc-error"]){cF=cg("#accessally-order-form-error-cc-"+cB);if(cF.length>0){cF.text(cE["cc-error"]).show();h(cF,false)}cF=cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]');if(cF.length>0){cF.text(cE["cc-error"]).show();h(cF,false)}}if(cE["billing-error"]){cF=cg("#accessally-order-form-error-billing-"+cB);if(cF.length>0){cF.text(cE["billing-error"]).show();h(cF,false)}cF=cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]');if(cF.length>0){cF.text(cE["billing-error"]).show();h(cF,false)}}if(!ai(cB,"step-2","cc")){cC=false}if(!bF(cB,"cc")){cC=false}if(cC){cH=bU(cB);if(cH<-1){cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.ORDER_FORM_ERROR).show();return}if(cH>=2){alert("Payment already in progress.");return}if(0===cH){cg("#accessally-order-form-wait-overlay-cc-"+cB).show();setTimeout(function(){bg(cB,cE,cG)},200);return}l(cB,cE,cG)}}function bn(cP,cI,cQ){var cG=br(cP,"oid"),cO=br(cP,"soid"),cH=br(cP,"uid"),cC=br(cP,"promo-id"),cK=br(cP,"cc-nonce"),cS=cg("#accessally-order-form-nonce-"+cP).val(),cF=cg("#accessally-order-form-step-1-"+cP),cL=cg("#accessally-order-form-step-2-cc-"+cP),cE=cg(".accessally-order-form-flex-step-2-container-"+cP+"-general"),cJ=D();if(cF.length===1&&cL.length===1){var cB=cd(cF),cD=cd(cL),cR=cd(cE),cN={data:{},"error-element":[]},cM=cx(cP,"cc"),cT;cN=I(cP,cN);cD+="&state="+encodeURIComponent(cN.data["address_state"]);if(cR.length>0){cD+="&"+cR}cT={action:"accessally_process_cc",nonce:cS,token:cI,oid:cG,soid:cO,uid:cH,pid:cC,info1:cB,info2:cD,aff:cJ,mcheck:cM,recaptcha:cQ,cc_nonce:cK,url:window.location.href};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cT,success:function(cU){var cV=Q(cU,cP);if(cV){cg("#accessally-order-form-wait-overlay-cc-"+cP).hide()}},error:function(cW,cU,cV){cg("#accessally-order-form-error-cc-"+cP).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cP+' [accessally-order-form-flex-error="'+cP+'"]').text(accessally_script_object.SERVER_ERROR).show();cn(cP,-1);cg("#accessally-order-form-wait-overlay-cc-"+cP).hide()}})}}function bW(cC,cB){cn(cC,3);var cE=cB.result;if("redirect"===cE.action){window.location=cE.url;return false}else{if("display"===cE.action){try{cg("#accessally-order-form-success-message-"+cC).html(cE.code);cg('[accessally-order-form-flex-success-message="'+cC+'"]').html(cE.code)}catch(cD){}aJ();cg("#accessally-order-form-step-2-"+cC).hide();cg("#accessally-order-form-step-3-"+cC).show();bA();return true}else{throw cE.message}}}function Q(cD,cC){try{var cB=JSON.parse(cD);if("status" in cB){if(cB.status==1){return bW(cC,cB)}else{if(2==cB.status){bR(cC,cB);return false}else{if("order" in cB){bS(cC,cB.order)}throw cB.message}}}else{throw cj(accessally_script_object.UNKNOWN_ERROR)}}catch(cE){cn(cC,-1);cg("#accessally-order-form-error-cc-"+cC).html(cE).show();cg("#accessally-order-form-step-2-cc-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').html(cE).show()}return true}function bR(cC,cB){cn(cC,4);bk("order-"+cC,cB)}cg(document).on("click touchend","[accessally-order-cc-validate-button]",function(cC){var cB=cg(this).attr("accessally-order-cc-validate-button");aG("order-"+cB,function(cD){cg("#accessally-order-form-error-cc-"+cB).text(cD).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(cD).show()},function(cD){H(cB,cD)})});function bk(cC,cB){cg("#accessally-cc-validate-url-"+cC).val(cB.url);cg("#accessally-cc-validate-pid-"+cC).val(cB.pid);cg("#accessally-cc-validate-secret-"+cC).val(cB.secret);cg("#accessally-cc-validate-nonce-"+cC).val(cB.nonce);cg("#accessally-cc-validate-start-"+cC).show();cg("#accessally-cc-validate-in-progress-"+cC).hide();cg("#accessally-cc-validate-overlay-"+cC).show()}function ck(cB){if(cB in be&&false!==be[cB]){clearInterval(be[cB]);be[cB]=false}if(cB in aX&&false!==aX[cB]){aX[cB].close();aX[cB]=false}if(cB in b1&&false!==b1[cB]){clearInterval(b1[cB]);b1[cB]=false}}var be=new Object,aX=new Object,b1=new Object;function aw(cE,cC,cD){ck(cE);var cB=window.open(cC,"accessally_sca_"+cE,"toolbar=no, menubar=no, resizable=yes");if(cB){be[cE]=setInterval(function(){if(cB.closed){ck(cE);b3(cB,cE,cD)}},100);aX[cE]=cB}cg("#accessally-cc-validate-start-"+cE).hide();cg("#accessally-cc-validate-in-progress-"+cE).show();b1[cE]=setInterval(function(){cD(false)},5000)}function aG(cE,cC,cD){var cB=cg("#accessally-cc-validate-url-"+cE).val();if(!cB||0===cB.length){cC(accessally_script_object.SCA_INITIALIZATION_ERROR);return}aw(cE,cB,cD)}function b3(cB,cD,cC){cg("#accessally-cc-validate-overlay-"+cD).hide();cC(true)}function H(cB,cG){var cI=br(cB,"uid"),cC=cg("#accessally-cc-validate-nonce-order-"+cB).val(),cD=cg("#accessally-cc-validate-secret-order-"+cB).val(),cH=cg("#accessally-cc-validate-pid-order-"+cB).val(),cF=cG?"yes":"no",cE={action:"accessally_get_cc_sca_info",nonce:cC,oid:cI,pid:cH,secret:cD,f:cF};if(cG){cg("#accessally-order-form-error-cc-"+cB).hide();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').hide()}cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cJ){var cK=r(cJ,cB,cG);if(cK){cg("#accessally-cc-validate-overlay-order-"+cB).hide();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide()}},error:function(cL,cJ,cK){if(cG){cn(cB,1);cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.SERVER_ERROR).show()}}})}function r(cD,cC,cF){try{var cB=JSON.parse(cD),cI="order-"+cC,cE=bU(cC);if("status" in cB){if(1==cB.status){ck(cI);cg("#accessally-cc-validate-overlay-"+cI).hide();var cH=bW(cC,cB);return cH}if(3===cE){ck(cI);return true}if(1===cE){ck(cI);return true}if(2==cB.status){if(cF){bR(cC,cB)}return false}if(0==cB.status){ck(cI);return true}if(-2==cB.status){ck(cI);cn(cC,1);cg("#accessally-order-form-error-cc-"+cC).text(accessally_script_object.SCA_FAILED).show();cg("#accessally-order-form-step-2-cc-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(accessally_script_object.SCA_FAILED).show();return true}if(-3==cB.status){ck(cI);cn(cC,1);cg("#accessally-order-form-error-cc-"+cC).text(cB.message).show();cg("#accessally-order-form-step-2-cc-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(cB.message).show();return true}throw cB.message}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cG){if(cF){ck(cI);cn(cC,1);cg("#accessally-order-form-error-cc-"+cC).text(cG).show();cg("#accessally-order-form-step-2-cc-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(cG).show();cg("#accessally-order-form-wait-overlay-cc-"+cC).hide();return true}}return false}cg(document).on("change propertychange keypress input paste",".accessally-order-form-error-input",function(cD){var cC=cg(this);if(cC.val().length>0){cC.removeClass("accessally-order-form-error-input");var cB=cC.attr("accessally-input-check");if(typeof cB!==typeof undefined&&cB!==false){if(cg('.accessally-order-form-error-input[accessally-input-check="'+cB+'"]').length<=0){cg("#accessally-order-form-error-"+cB).hide()}}}});cg(document).on("change propertychange keyup input paste",".accessally-order-form-cc-card-number-input input, .accessally-order-form-cc-cvv-input input",function(cF){var cE=cg(this),cG=cE.val(),cB=cG.length,cC,cD="";if(cB>0){for(cC=0;cC<cB;++cC){if("0"<=cG[cC]&&cG[cC]<="9"){cD+=cG[cC]}}if(cD!==cG){cE.val(cD)}}});cg(document).on("touchend click","[accessally-order-form-payment]",function(cE){var cD=cg(this),cC=cD.attr("accessally-order-form-payment"),cB=cD.attr("form-ordinal");cg('.accessally-order-form-payment-selected[accessally-order-form-payment][form-ordinal="'+cB+'"]').removeClass("accessally-order-form-payment-selected");cg('[accessally-order-form-payment="'+cC+'"][form-ordinal="'+cB+'"]').addClass("accessally-order-form-payment-selected");cg('[accessally-order-form-payment-input][form-ordinal="'+cB+'"]:visible').hide();cg('[accessally-order-form-payment-input="'+cC+'"][form-ordinal="'+cB+'"]').show();bA()});function V(cC,cB){for(let key in accessally_script_object.pay.vat_country){if(accessally_script_object.pay.vat_country[key]===cC){return true}}if("Canada"===cC){return"QC"===cB.toUpperCase()}return false}function G(cB){let gather_result={data:{},"error-element":[]};gather_result=a9(gather_result,bl,"accessally-order-form-billing-",cB);gather_result=I(cB,gather_result);let country="",state="";if("address_country" in gather_result.data){country=gather_result.data["address_country"]}if("address_state" in gather_result.data){state=gather_result.data["address_state"]}if(V(country,state)){cg('[accessally-order-form-billing-tax-id-container-credit-card="'+cB+'"]').show();cg("#accessally-order-form-step-2-cc-"+cB+" .accessally-order-form-flex-tax-id-container").show();cg(".accessally-order-form-flex-step-2-container-"+cB+"-general .accessally-order-form-flex-tax-id-container").show()}else{cg('[accessally-order-form-billing-tax-id-container-credit-card="'+cB+'"]').hide();cg("#accessally-order-form-step-2-cc-"+cB+" .accessally-order-form-flex-tax-id-container").hide();cg(".accessally-order-form-flex-step-2-container-"+cB+"-general .accessally-order-form-flex-tax-id-container").hide()}}cg(document).on("change","[accessally-order-form-billing-country]",function(cG){var cI=cg(this),cE=cI.val(),cH=cI.attr("accessally-order-form-billing-country"),cJ=cg('[accessally-order-form-billing-state="'+cH+'"]'),cF,cB,cD,cC=false;for(cF=0;cF<cJ.length;++cF){cB=cg(cJ[cF]);cD=cB.attr("accessally-order-form-billing-state-country");if(cD===cE){cB.show();cC=true}else{cB.hide()}}if(!cC){cJ.filter('[accessally-order-form-billing-state-country="other"]').show()}G(cH);E(cH)});cg(document).on("change","[accessally-order-form-billing-state]",function(cD){var cC=cg(this),cB=cC.attr("accessally-order-form-billing-state");if(cC.is("select")){G(cB);E(cB)}});cg(document).on("change","[accessally-order-form-billing-tax-id-credit-card]",function(cD){var cC=cg(this),cB=cC.attr("accessally-order-form-billing-tax-id-credit-card");E(cB)});cg(document).on("change","[accessally-order-form-billing-city]",function(cE){var cD=cg(this),cB=cD.attr("accessally-order-form-billing-city"),cC=cg('[accessally-order-form-billing-country="'+cB+'"]').val();if("United States"===cC){E(cB)}});cg(document).on("change","[accessally-order-form-billing-zip]",function(cE){var cD=cg(this),cB=cD.attr("accessally-order-form-billing-zip"),cC=cg('[accessally-order-form-billing-country="'+cB+'"]').val();if("United States"===cC||"Canada"===cC){E(cB)}});function I(cI,cH){cH=n(cI,cH);var cK=cg('[accessally-order-form-billing-country="'+cI+'"]');if(cK.length<1){return cH}var cF=cK.val(),cJ=cg('[accessally-order-form-billing-state="'+cI+'"]'),cG,cC,cE,cB,cD;cH.data["address_state"]="";cH.error=false;for(cG=0;cG<cJ.length;++cG){cC=cg(cJ[cG]);cE=cC.attr("accessally-order-form-billing-state-country");if(cE===cF){cH.data["address_state"]=cC.val();return cH}}cB=cJ.filter('[accessally-order-form-billing-state-country="other"]');cD=cB.val();if(cD.length<=0){cH["error-element"].push(cB);cH.error=accessally_script_object.MISSING_REQUIRED_INFO}cH.data["address_state"]=cD;return cH}cg(document).on("change","[accessally-flex-order-form-country]",function(cH){var cJ=cg(this),cF=cJ.val(),cI=cJ.attr("accessally-flex-order-form-country"),cE=cI.split("-"),cK=cE[0],cL=cg('[accessally-flex-order-form-billing-state="'+cI+'"]'),cG,cB,cD,cC=false;for(cG=0;cG<cL.length;++cG){cB=cg(cL[cG]);cD=cB.attr("accessally-flex-order-form-billing-state-country");if(cD===cF){cB.show();cC=true}else{cB.hide()}}if(!cC){cL.filter('[accessally-flex-order-form-billing-state-country="other"]').show()}G(cK);E(cK)});cg(document).on("change","[accessally-flex-order-form-billing-state]",function(cE){var cD=cg(this),cB=cD.attr("accessally-flex-order-form-billing-state"),cC=cB.split("-"),cF=cC[0];if(cD.is("select")){G(cF);E(cF)}});cg(document).on("change","[accessally-flex-order-form-billing-city]",function(cE){var cD=cg(this),cB=cD.attr("accessally-flex-order-form-billing-city"),cC=cg('[accessally-flex-order-form-country="'+cB+'-billing"]').val();if("United States"===cC){E(cB)}});cg(document).on("change","[accessally-flex-order-form-billing-zip]",function(cE){var cD=cg(this),cB=cD.attr("accessally-flex-order-form-billing-zip"),cC=cg('[accessally-flex-order-form-country="'+cB+'-billing"]').val();if("United States"===cC||"Canada"===cC){E(cB)}});function cq(cI,cJ){var cD=cI.attr("accessally-field"),cB=cI.find("[accessally-flex-order-form-billing-state]"),cK=cB.attr("accessally-flex-order-form-billing-state"),cM=cg('[accessally-flex-order-form-country="'+cK+'"]'),cL=cM.val(),cE,cG,cC,cF,cH;for(cH=0;cH<cB.length;++cH){cE=cg(cB[cH]);cG=cE.attr("accessally-flex-order-form-billing-state-country");if(cG===cL){cJ.data[cD]=cE.val();return cJ}}cC=cB.filter('[accessally-flex-order-form-billing-state-country="other"]');cF=cC.val();if(cF.length<=0){cJ["error-element"].push(cC);cJ.error=accessally_script_object.MISSING_REQUIRED_INFO}cJ.data[cD]=cF;return cJ}function aZ(cD,cC){var cB=cD.find(".accessally-order-form-flex-state-selection[accessally-field]");cB.each(function(cE,cF){cC=cq(cg(cF),cC)});cB=cD.filter(".accessally-order-form-flex-state-selection[accessally-field]");cB.each(function(cE,cF){cC=cq(cg(cF),cC)});return cC}function n(cB,cC){var cD=cg("#accessally-order-form-"+cB+' .accessally-order-form-flex-state-selection[accessally-field="address_state"]');return aZ(cD,cC)}function cj(cB){return cg("<div>").text(cB).html()}function aq(cD,cF,cB,cC){if("yes"===accessally_script_object.pay.crm_opt){cg(".accessally-order-form-pay-opt").remove();var cG=accessally_script_object.pay.target+"?accessally_pay_optin=y&fname="+encodeURIComponent(cF)+"&lname="+encodeURIComponent(cB)+"&email="+encodeURIComponent(cC),cE='<iframe class="accessally-order-form-pay-opt" style="position:absolute;width:1px;height:1px;top:0;left:0;z-index:0;" src="'+cj(cG)+'"></iframe>';cD.append(cE)}}function az(cE){if(cE){var cD=cE+"=",cC=document.cookie,cB=cC.indexOf(cD);if(cB>=0){cB+=cD.length;endIndex=cC.indexOf(";",cB);if(endIndex<0){endIndex=cC.length}return cC.substring(cB,endIndex)}}return false}var aY=["sess_","ref_","oprid","aff_","accessally-aff"];function D(){var cC={},cB,cD;for(cB=0;cB<aY.length;++cB){cD=az(aY[cB]);if(false!==cD){cC[aY[cB]]=cD}}return cC}function a2(cE,cC){try{if(typeof window.Event==="function"){var cB=new Event(cE);cC.dispatchEvent(cB)}else{if(typeof document.createEvent==="function"){var cB=document.createEvent("Event");cB.initEvent(cE,true,true);cC.dispatchEvent(cB)}}}catch(cD){}}cg(document).on("click touchend","[accessally-crm-order-charge]",function(cG){var cF=cg(this),cH=cF.attr("accessally-crm-order-charge"),cD=cF.attr("accessally-crm-order-charge-nonce"),cC=cF.attr("accessally-warning"),cE={action:"accessally_crm_order_process_due",oid:cH,nonce:cD};if(cC){var cB=confirm(cC);if(cB!==true){cG.preventDefault();return false}}cg(".accessally-crm-order-list-error-message-"+cH).hide();cg(".accessally-crm-order-list-wait-overlay-"+cH).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cI){m(cI,cH)},error:function(cK,cI,cJ){cg(".accessally-crm-order-list-error-message-"+cH).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cI,cJ){cg(".accessally-crm-order-list-wait-overlay-"+cH).hide()}})});function m(cD,cI){try{var cK=JSON.parse(cD);if("status" in cK){if(cK.status>0){var cC="accessally-crm-order-container-"+cI,cJ=cg("["+cC+"]"),cF,cB,cG,cE;for(cF=0;cF<cJ.length;++cF){cB=cg(cJ[cF]);cG=cB.attr(cC);cE=cK.code.replace(/--prefix--/g,cG);cB.after(cE);cB.remove()}}else{throw cK.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cH){cg(".accessally-crm-order-list-error-message-"+cI).text(cH).show()}}cg(document).on("click touchend","[accessally-update-crm-subscription-cc]",function(cH){var cK=cg(this),cI=cK.attr("accessally-update-crm-subscription-cc"),cC=cI.split("|"),cF=cK.attr("accessally-update-crm-subscription-nonce"),cL=cK.attr("accessally-warning"),cJ,cE,cB,cD;if(cC.length<2){alert(accessally_script_object.INVALID_DATA)}if(cL){var cG=confirm(cL);if(cG!==true){cH.preventDefault();return false}}cJ=cC[0];cE=cC[1];cB=cg("#accessally-crm-subscription-credit-card-"+cJ+"-"+cE).val();cD={action:"accessally_crm_subscription_update_cc",sid:cE,ccid:cB,nonce:cF};cg(".accessally-crm-subscription-list-error-message-"+cE).hide();cg(".accessally-crm-subscription-list-wait-overlay-"+cE).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cD,success:function(cM){P(cM,cE)},error:function(cO,cM,cN){cg(".accessally-crm-subscription-list-error-message-"+cE).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cM,cN){cg(".accessally-crm-subscription-list-wait-overlay-"+cE).hide()}})});function P(cD,cH){try{var cL=JSON.parse(cD);if("status" in cL){if(cL.status>0){var cC="accessally-crm-subscription-container-"+cH,cK=cg("["+cC+"]"),cG,cB,cJ,cF,cE;for(cG=0;cG<cK.length;++cG){cB=cg(cK[cG]);cJ=cB.attr(cC);cF=cJ.split("|");if(cF.length>=2){cE=cL.code.replace(/--prefix--/g,cF[0]);cE=cE.replace(/--ordinal--/g,cF[1]);cB.after(cE);cB.remove()}}}else{throw cL.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cI){cg(".accessally-crm-subscription-list-error-message-"+cH).text(cI).show()}}cg(document).on("click touchend","[accessally-crm-subscription-charge]",function(cG){var cF=cg(this),cI=cF.attr("accessally-crm-subscription-charge"),cH=cI,cD=cF.attr("accessally-crm-subscription-charge-nonce"),cC=cF.attr("accessally-warning"),cE={action:"accessally_crm_subscription_process_due",sid:cI,nonce:cD};if(cC){var cB=confirm(cC);if(cB!==true){cG.preventDefault();return false}}if(cI.indexOf("|")>0){cH=cI.split("|")[0]}cg(".accessally-crm-subscription-list-error-message-"+cH).hide();cg(".accessally-crm-subscription-list-wait-overlay-"+cH).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cJ){P(cJ,cH)},error:function(cL,cJ,cK){cg(".accessally-crm-subscription-list-error-message-"+cH).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cJ,cK){cg(".accessally-crm-subscription-list-wait-overlay-"+cH).hide()}})});cg(document).on("click touchend","[accessally-subscription-charge]",function(cH){var cJ=cg(this),cC=cJ.attr("accessally-subscription-charge"),cD=cC.split("|"),cE={action:"accessally_subscription_process_due",url:window.location.href},cI,cF,cG,cB;if(cD.length<3){return}cF=cD[0];cG=cD[2];cB=cg(".accessally-subscription-charge-due-"+cF).text();cE.sid=cF;cE.nonce=cD[1];cI=confirm("This will charge "+cB+". Proceed?");if(cI!==true){cH.preventDefault();return false}cg("#accessally-subscription-list-error-message-"+cG).hide();cg(".accessally-subscription-list-wait-overlay-"+cF).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cK){var cL=T(cK,cF,cG);if(cL){cg(".accessally-subscription-list-wait-overlay-"+cF).hide()}},error:function(cM,cK,cL){cg("#accessally-subscription-list-error-message-"+cG).text(accessally_script_object.SERVER_ERROR).show();cg(".accessally-subscription-list-wait-overlay-"+cF).hide()}})});function T(cC,cE,cF){try{var cB=JSON.parse(cC);if("status" in cB){if(1==cB.status){b(cB,cE);return true}else{if(2==cB.status){b6(cF,cB);return false}else{throw cB.message}}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cD){cg("#accessally-subscription-list-error-message-"+cF).text(cD).show()}return true}cg(document).on("click touchend","[accessally-subscription-update-card]",function(cC){var cB=cg(this),cD=cB.attr("accessally-subscription-update-card");at(cD);cg("#accessally-list-update-credit-card-"+cD).show()});function aj(cB){cg("#accessally-list-update-credit-card-"+cB).hide()}cg(document).on("click touchend","[accessally-list-update-credit-card-cancel]",function(cC){var cB=cg(this),cD=cB.attr("accessally-list-update-credit-card-cancel");aj(cD)});var z={"first-name":["first-name",true],"last-name":["last-name",true]};cg(document).on("click touchend","[accessally-list-update-credit-card-save]",function(cG){var cI=cg(this),cC=cI.attr("accessally-list-update-credit-card-save"),cD=cI.attr("accessally-list-update-credit-card-ordinal"),cH=cp(cD),cE=true,cF={data:{},"error-element":[]},cF=a9(cF,z,"accessally-order-form-billing-",cD),cK;if(cH["error-element"].length>0){cE=false;for(i=0;i<cH["error-element"].length;++i){cH["error-element"][i].addClass("accessally-order-form-error-input")}}if(cF["error-element"].length>0){cE=false;for(i=0;i<cF["error-element"].length;++i){cF["error-element"][i].addClass("accessally-order-form-error-input")}}if(cH["cc-error"]){cK=cg("#accessally-order-form-error-cc-"+cD);cK.text(cH["cc-error"]).show();h(cK,cg("#accessally-list-update-credit-card-input-"+cD))}if(cH["billing-error"]){cK=cg("#accessally-order-form-error-billing-"+cD);cK.text(cH["billing-error"]).show();h(cK,cg("#accessally-list-update-credit-card-input-"+cD))}if(cF.error){cK=cg("#accessally-order-form-error-billing-"+cD);cK.text(cF.error).show();h(cK,cg("#accessally-list-update-credit-card-input-"+cD))}if(cE){cg("#accessally-list-update-credit-card-wait-"+cD).show();if(accessally_script_object.pay.stripe_key.length>0&&typeof Stripe!=="undefined"){if(!cD in b7){throw accessally_script_object.UNKNOWN_ERROR}c.createToken(b7[cD],cH.data).then(function(cL){if(cL.error){cg("#accessally-order-form-error-cc-"+cD).text(cL.error.message).show();cg("#accessally-list-update-credit-card-wait-"+cD).hide();return}cm(cC,cD,cL.token.id)})}else{if("yes"===accessally_script_object.pay.bambora_na&&typeof bambora!=="undefined"){var cB=al(cH.data),cJ=new bambora.AjaxHelper();cJ.getToken(cB,function(cL){if(!cL.success){cg("#accessally-order-form-error-cc-"+cD).text(cL.message+"["+cL.code+"]").show();cg("#accessally-list-update-credit-card-wait-"+cD).hide();return}cm(cC,cD,cL.token)})}}}});function cm(cF,cH,cB){var cD=cg("#accessally-list-update-credit-card-"+cH),cE=cd(cD),cG={data:{},"error-element":[]},cG=I(cH,cG),cC;cE+="&state="+encodeURIComponent(cG.data["address_state"]);cC={action:"accessally_list_update_credit_card",sid:cF,token:cB,info:cE,url:window.location.href};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cC,success:function(cJ){var cI=bo(cJ,cH,cF);if(cI){cg("#accessally-list-update-credit-card-wait-"+cH).hide()}},error:function(cK,cI,cJ){cg("#accessally-order-form-error-cc-"+cH).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-list-update-credit-card-wait-"+cH).hide()}})}function bo(cC,cF,cE){try{var cB=JSON.parse(cC);if("status" in cB){if(1==cB.status){b(cB,cE);return true}else{if(2==cB.status){b6(cF,cB);return false}else{throw cB.message}}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cD){cg("#accessally-order-form-error-cc-"+cF).text(cD).show()}return true}function b(cB,cC){cg(".accessally-view-subscription-local-"+cC).each(function(cF,cG){var cE=cg(cG),cD=cE.attr("accessally-view-subscription-local-ordinal"),cH=cB.code.replace(/--ordinal--/g,cD);cE.after(cH);cE.remove()})}function b6(cC,cB){bk("list-"+cC,cB)}cg(document).on("click touchend","[accessally-list-subscription-update-cc-validate-button]",function(cB){var cC=cg(this).attr("accessally-list-subscription-update-cc-validate-button");aG("list-"+cC,function(cD){cg("#accessally-order-form-error-cc-"+cC).text(cD).show();cg("#accessally-subscription-list-error-message-"+cC).text(cD).show()},function(cD){M(cC,cD)})});function M(cH,cF){var cC=cg("#accessally-cc-validate-nonce-list-"+cH).val(),cG=cg("#accessally-cc-validate-pid-list-"+cH).val(),cB=cg("#accessally-cc-validate-secret-list-"+cH).val(),cE=cF?"yes":"no",cD={action:"accessally_list_subscription_get_cc_sca_info",nonce:cC,sid:cG,secret:cB,f:cE};if(cF){cg("#accessally-order-form-error-cc-"+cH).hide();cg("#accessally-subscription-list-error-message-"+cH).hide()}cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cD,success:function(cJ){var cI=bp(cJ,cH,cG,cF);if(cI){cg("#accessally-list-update-credit-card-wait-"+cH).hide();cg(".accessally-subscription-list-wait-overlay-"+cG).hide()}},error:function(cK,cI,cJ){if(cF){cg("#accessally-order-form-error-cc-"+cH).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-subscription-list-error-message-"+cH).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-list-update-credit-card-wait-"+cH).hide();cg(".accessally-subscription-list-wait-overlay-"+cG).hide()}}})}function bp(cC,cH,cG,cD){try{var cB=JSON.parse(cC),cF="list-"+cH;if("status" in cB){if(1==cB.status){ck(cF);b(cB,cG);return true}if(2==cB.status){if(cD){b6(cH,cB)}return false}if(0==cB.status){ck(cF);return true}if(-2==cB.status){ck(cF);cg("#accessally-cc-validate-overlay-"+cF).hide();cg("#accessally-order-form-error-cc-"+cH).text(accessally_script_object.SCA_FAILED).show();cg("#accessally-subscription-list-error-message-"+cH).text(accessally_script_object.SCA_FAILED).show();return true}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){if(cD){ck(cF);cg("#accessally-order-form-error-cc-"+cH).text(cE).show();cg("#accessally-subscription-list-error-message-"+cH).text(cE).show();return true}}return false}cg(document).on("click touchend","[accessally-order-form-coupon-enter]",function(cE){var cB=cg(this).attr("accessally-order-form-coupon-enter"),cF=cg(this).attr("accessally-order-form-coupon-method"),cD=cg('[accessally-order-form-coupon-input="'+cB+'"][accessally-order-form-coupon-method="'+cF+'"]'),cC="#accessally-order-form-error-coupon-"+cB+"-"+cF;aF(cB,cD,cC)});cg(document).on("click touchend","[accessally-order-form-flex-coupon-enter]",function(cH){var cD=cg(this).attr("accessally-order-form-flex-coupon-enter"),cG=cD.split("|"),cB=cG[0],cC=cG[1],cF=cg('[accessally-order-form-flex-coupon-input="'+cD+'"]'),cE="#accessally-order-form-error-flex-coupon-"+cB+"-"+cC;aF(cB,cF,cE)});function av(cB){var cC={data:{},"error-element":[]};if(cg("#accessally-order-form-step-2-cc-"+cB).length>0){cC=a9(cC,J,"accessally-order-form-cc-",cB)}return cC.data}function t(cB,cE){var cC;for(var cD in J){if(cD in cE){cC=cg("#accessally-order-form-cc-"+J[cD][0]+"-"+cB);cC.val(cE[cD]).change()}}}function a4(cB){var cC={};cg('[accessally-order-form-billing-state="'+cB+'"][accessally-order-form-billing-state-country]').each(function(cE,cF){var cD=cg(cF),cH=cD.attr("accessally-order-form-billing-state-country"),cG=cD.val();cC[cH]=cG});return cC}function bN(cB,cC){cg('[accessally-order-form-billing-state="'+cB+'"][accessally-order-form-billing-state-country]').each(function(cE,cF){var cD=cg(cF),cG=cD.attr("accessally-order-form-billing-state-country");if(cG in cC){cD.val(cC[cG]).change()}})}function bO(cH,cI){var cD=cH.attr("accessally-field"),cB=cH.find("[accessally-flex-order-form-billing-state]"),cJ=cB.attr("accessally-flex-order-form-billing-state"),cL=cg('[accessally-flex-order-form-country="'+cJ+'"]'),cK=cL.val(),cE,cF,cC,cG;if(!(cD in cI)){return}for(cG=0;cG<cB.length;++cG){cE=cg(cB[cG]);cF=cE.attr("accessally-flex-order-form-billing-state-country");if(cF===cK){cE.val(cI[cD]);return}}cC=cB.filter('[accessally-flex-order-form-billing-state-country="other"]');cC.val(cI[cD])}function B(cD,cC){var cB=cD.find(".accessally-order-form-flex-state-selection[accessally-field]");cB.each(function(cE,cF){bO(cg(cF),cC)});cB=cD.filter(".accessally-order-form-flex-state-selection[accessally-field]");cB.each(function(cE,cF){bO(cg(cF),cC)})}function X(cH){var cF={},cG=cg("#accessally-order-form-step-1-"+cH),cC=cg("#accessally-order-form-step-2-"+cH),cJ=ca(cG),cB=ca(cC),cD=av(cH),cI="cc",cE=cg('.accessally-order-form-payment-selected[accessally-order-form-payment][form-ordinal="'+cH+'"]');cF["step-1"]=cJ;cF["step-2"]=cB;cF.cc=cD;cF["billing-state"]=a4(cH);cF["step-2-visible"]=cg("#accessally-order-form-step-2-"+cH).hasClass("accessally-order-form-step-2-active");cF["fast-visible"]=cg("#accessally-order-form-fast-"+cH).hasClass("accessally-order-form-fast-active");if(cE.length>0){cI=cE.attr("accessally-order-form-payment")}cF["selected-payment-method"]=cI;return cF}function bI(cB,cG){var cF=cG[0],cC=cG[1],cE={},cD=0;for(;cD<cF.length;++cD){cE[cF[cD]]=cC[cD]}cB.find('input[type="hidden"][accessally-field],input[type="text"][accessally-field],textarea[accessally-field]').each(function(cJ,cK){var cI=cg(cK),cH=cI.attr("accessally-field");if(typeof cH!==typeof undefined&&cH!==false){if(cH in cE){cI.val(cE[cH]).change()}}});cB.find('input[type="radio"]').each(function(cJ,cK){var cI=cg(cK),cH=cI.attr("name");if(typeof cH!==typeof undefined&&cH!==false){if(cH in cE&&cI.attr("value")==cE[cH]){cI.prop("checked",true).change()}else{cI.prop("checked",false).change()}}});cB.find('input[type="checkbox"][accessally-field]').each(function(cJ,cK){var cI=cg(cK),cH=cI.attr("accessally-field");if(typeof cH!==typeof undefined&&cH!==false){if(cH in cE&&cI.attr("value")==cE[cH]){cI.prop("checked",true).change()}else{cI.prop("checked",false).change()}}});cB.find("select[accessally-field]").each(function(cJ,cK){var cI=cg(cK),cH=cI.attr("accessally-field");if(typeof cH!==typeof undefined&&cH!==false){if(cH in cE){cI.val(cE[cH]).change()}}});B(cB,cE)}function u(cC,cD){var cG=cg("#accessally-order-form-step-1-"+cC),cB=cg("#accessally-order-form-step-2-"+cC),cF=cg("#accessally-order-form-fast-"+cC),cE=cg("#accessally-order-form-step-1-"+cC);bI(cG,cD["step-1"]);bI(cB,cD["step-2"]);t(cC,cD.cc);bN(cC,cD["billing-state"]);if(cD["fast-visible"]&&cF.length>0){cg("#accessally-order-form-flex-regular-"+cC).hide();cF.addClass("accessally-order-form-fast-active").show();cE.hide();h(cF,false)}else{cg("#accessally-order-form-flex-regular-"+cC).show();cF.removeClass("accessally-order-form-fast-active").hide();cE.show();h(cE,false)}if(cD["step-2-visible"]){v(cC)}cg('[accessally-order-form-payment="'+cD["selected-payment-method"]+'"][form-ordinal="'+cC+'"]').click()}function bZ(cB,cD,cC){var cE=bU(cB);if(cE<-1){cg(cC).text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-wait-overlay-coupon-"+cB).hide();return}if(0!==cE){ax(cB,cD,cC);return}setTimeout(function(){bZ(cB,cD,cC)},200)}function aF(cB,cE,cC){var cD=cE.val().trim(),cF=bU(cB);if(!cD){cE.addClass("accessally-order-form-error-input");return}if(0===cF){cg("#accessally-order-form-wait-overlay-coupon-"+cB).show();setTimeout(function(){bZ(cB,cD,cC)},200);return}ax(cB,cD,cC)}function ax(cK,cE,cC){cg(cC).hide();cg("#accessally-order-form-wait-overlay-coupon-"+cK).show();var cO=br(cK,"oid"),cG=br(cK,"soid"),cB=br(cK,"promo-id"),cJ=br(cK,"uid"),cI=cg("#accessally-order-form-nonce-"+cK).val(),cN=cg("#accessally-order-form-"+cK),cH=cN.attr("accessally-shortcode-prefix"),cM=cN.is("form")?"yes":"no",cL=cg("#accessally-order-form-email-"+cK).val(),cF=X(cK),cD={action:"accessally_process_coupon",coupon:cE,oid:cO,soid:cG,uid:cJ,pid:cB,ord:cK,prefix:cH,auto:cM,email:cL,url:window.location.href,nonce:cI};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cD,success:function(cP){aW(cP,cK,cC,cF)},error:function(cR,cP,cQ){cg(cC).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cP,cQ){cg("#accessally-order-form-wait-overlay-coupon-"+cK).hide()}})}function aW(cE,cH,cF,cD){try{var cJ=JSON.parse(cE);if("status" in cJ){if(cJ.status>0){ac(cH,0);ch(cH);var cB=cg("#accessally-order-form-"+cH),cC=R(cB,cJ.code);try{cB.after(cC)}catch(cI){}cB.remove();delete b7[cH];bS(cH,cJ.order);u(cH,cD);if("paypal-status" in cJ){if(cJ["paypal-status"]>0){ac(cH,1);k(cH,cJ.paypal)}else{if(cJ["paypal-status"]<0){cg("#accessally-order-form-wait-overlay-paypal-"+cH).show();cn(cH,-2);ac(cH,-1);cg("#accessally-order-form-error-"+cH).text(cJ.message).show()}}}bA()}else{throw cJ.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cG){cg(cF).text(cG).show()}}function R(cB,cC){cB.find("[accessally-order-form-swap-loc]").each(function(cE,cG){var cD=cg(cG),cH=cD.attr("accessally-order-form-swap-loc"),cF=cg("<div></div>").append(cD).html();cC=cC.replace(new RegExp("--swap-selection-"+cH+"--","g"),cF)});cC=cC.replace(/--swap-selection-.*?--/g,"");return cC}function ae(cB){cn(cB,2);cg("#accessally-order-form-wait-overlay-cc-"+cB).show();bn(cB,"","")}function an(cB){var cC=bU(cB);if(cC<-1){cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-step-2-zero-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-wait-overlay-cc-"+cB).hide();return}if(0!==cC){ae(cB);return}setTimeout(function(){an(cB)},200)}cg(document).on("touchend click",'[accessally-order-form-payment-input="zero"] [accessally-order-form-flex-submit]',function(cC){var cB=cg(this).attr("accessally-order-form-flex-submit");ba(cB)});function ba(cB){var cE={data:{},"error-element":[]},cF,cC=true,cD;cE=a9(cE,bl,"accessally-order-form-billing-",cB);if(cE.error){cE["billing-error"]=cE.error}cE=I(cB,cE);if(cE.error){cE["billing-error"]=cE.error}if(cE["error-element"].length>0){cC=false;for(cD=0;cD<cE["error-element"].length;++cD){cE["error-element"][cD].addClass("accessally-order-form-error-input")}}if(cE["billing-error"]){cg("#accessally-order-form-error-billing-"+cB).text(cE["billing-error"]).show();cg("#accessally-order-form-step-2-zero-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.ORDER_FORM_ERROR).show()}if(!ai(cB,"step-2","zero")){cC=false}if(!bF(cB,"cc")){cC=false}if(cC){cF=bU(cB);if(cF<-1){cg("#accessally-order-form-error-cc-"+cB).text(accessally_script_object.ORDER_FORM_ERROR).show();cg("#accessally-order-form-step-2-cc-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(accessally_script_object.ORDER_FORM_ERROR).show();return}if(cF>=2){alert(accessally_script_object.PAYMENT_IN_PROGRESS);return}if(0===cF){cg("#accessally-order-form-wait-overlay-cc-"+cB).show();setTimeout(function(){an(cB)},200);return}ae(cB)}}var bf={};function a8(cC){if(cC in bf){return bf[cC]}var cD=cg("#accessally-order-form-bump-0-"+cC),cB="";if(cD.length>0){cB=cD.attr("accessally-order-form-swap-offer-display")}bf[cC]=cB;return cB}function cu(cD,cC,cH,cB){var cG=cg("#accessally-order-form-bump-"+cB+"-"+cD),cE=cg("#accessally-order-form-bump-"+cH+"-"+cD),cF;if(cG.length!==1||cE.length!==1){alert(accessally_script_object.UNABLE_TO_DISPLAY_ORDER_FORM);return}cF=cG.attr("accessally-order-form-swap-offer-display");if(!cF){alert(accessally_script_object.UNABLE_TO_DISPLAY_ORDER_FORM);return}if(cF===cC){return}cg(".accessally-order-form-swap-selected[accessally-order-form-bump-"+cB+'="'+cD+'"]').removeClass("accessally-order-form-swap-selected");cg("[accessally-order-form-bump-"+cH+'="'+cD+'"]').addClass("accessally-order-form-swap-selected");cG.hide();cE.show();aA(cF,cC);bA();bf[cD]=cC}cg(document).on("touchend click","[accessally-order-form-bump-0] a, [accessally-order-form-bump-1] a",function(cD){var cC=cg(this),cB=cC.attr("target");if("_blank"!==cB){cC.attr("target","_blank")}cD.stopPropagation()});cg(document).on("touchend click","[accessally-order-form-bump-0]",function(cE){var cD=cg(this),cC=cD.attr("accessally-order-form-bump-0"),cB=cD.attr("accessally-order-form-swap-target");cu(cC,cB,"1","0")});cg(document).on("touchend click","[accessally-order-form-bump-1]",function(cE){var cD=cg(this),cC=cD.attr("accessally-order-form-bump-1"),cB=cD.attr("accessally-order-form-swap-target");cu(cC,cB,"0","1")});function aA(cC,cB){var cE=X(cC),cF,cD;u(cB,cE);cF=bU(cC);cD=bU(cB);if(-99!==cF&&-99===cD){S(cB)}}cg(document).on("touchend click","[accessally-order-form-swap] a",function(cD){var cC=cg(this),cB=cC.attr("target");if("_blank"!==cB){cC.attr("target","_blank")}cD.stopPropagation()});cg(document).on("touchend click","[accessally-order-form-swap]",function(cF){var cG=cg(this),cC=cG.attr("accessally-order-form-swap"),cB=cG.attr("accessally-order-form-swap-target"),cI=cg('[accessally-order-form-swap-display="'+cC+'"][accessally-order-form-swap-offer-display]:visible'),cE=cB,cH,cD,cJ;if(cB.charAt(0)==="b"){cJ=cE.substring(1);cE=a8(cJ)}cH=cg('[accessally-order-form-swap-display="'+cC+'"][accessally-order-form-swap-offer-display="'+cE+'"]');if(cI.length!==1||cH.length!==1){alert(accessally_script_object.UNABLE_TO_DISPLAY_ORDER_FORM);return}cD=cI.attr("accessally-order-form-swap-offer-display");if(!cD){alert(accessally_script_object.UNABLE_TO_DISPLAY_ORDER_FORM);return}if(cD===cE){return}cg('.accessally-order-form-swap-selected[accessally-order-form-swap="'+cC+'"]').removeClass("accessally-order-form-swap-selected");cg('[accessally-order-form-swap="'+cC+'"][accessally-order-form-swap-target="'+cB+'"]').addClass("accessally-order-form-swap-selected");cI.hide();cH.show();aA(cD,cE);bA()});function aO(cB){var cC=cg("#accessally-order-form-step-1-"+cB);cg("#accessally-order-form-fast-"+cB).removeClass("accessally-order-form-fast-active").hide();cC.show();h(cC,false);bA()}cg(document).on("touchend click","[accessally-order-form-fast-switch]",function(cC){var cB=cg(this).attr("accessally-order-form-fast-switch");aO(cB);cC.stopPropagation();return false});cg(document).on("touchend click","[accessally-order-form-flex-fast-switch]",function(cC){var cB=cg(this).attr("accessally-order-form-flex-fast-switch");cg("#accessally-order-form-flex-regular-"+cB).show();aO(cB);cC.stopPropagation();return false});cg(document).on("touchend click",".accessally-flex-order-form-fast [accessally-order-form-flex-submit]",function(cD){var cB=cg(this).attr("accessally-order-form-flex-submit"),cC=cg("#accessally-order-form-fast-nonce-"+cB).val();aD(cB,cC,false);cD.preventDefault();return false});cg(document).on("touchend click","[accessally-order-fast-confirm]",function(cH){var cG=cg(this),cC=cG.attr("accessally-order-fast-confirm"),cF=cC.split("|"),cB=cF[0],cE=cF[1],cD=cG.attr("accessally-warning");aD(cB,cE,cD);cH.preventDefault();return false});function aD(cB,cF,cE){var cG,cC=true;cg("#accessally-order-form-error-fast-"+cB).hide();cg("#accessally-order-form-fast-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').hide();if(!ai(cB,"fast","general")){cC=false}if(!bF(cB,"fast")){cC=false}if(cC){if(cE){var cD=confirm(cE);if(cD!==true){return}}cG=bU(cB);if(cG>=2){alert("Payment already in progress.");return}cn(cB,2);cg("#accessally-order-form-wait-overlay-fast-"+cB).show();Y(cB,cF)}}function Y(cI,cG){var cJ=br(cI,"oid"),cF=br(cI,"soid"),cB=br(cI,"promo-id"),cC=br(cI,"coupon"),cD=D(),cH=cx(cI,"fast"),cE={action:"accessally_process_fast_order",nonce:cG,oid:cJ,soid:cF,pid:cB,coupon:cC,aff:cD,mcheck:cH,url:window.location.href};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cK){var cL=g(cK,cI);if(cL){cg("#accessally-order-form-wait-overlay-fast-"+cI).hide()}},error:function(cM,cK,cL){cg("#accessally-order-form-error-fast-message-"+cI).text(accessally_script_object.SERVER_ERROR);cg("#accessally-order-form-error-fast-"+cI).show();cg("#accessally-order-form-fast-"+cI+' [accessally-order-form-flex-error="'+cI+'"]').text(accessally_script_object.SERVER_ERROR).show();cn(cI,-1);cg("#accessally-order-form-wait-overlay-fast-"+cI).hide()}})}function g(cD,cC){try{var cB=JSON.parse(cD);if("status" in cB){if(cB.status==1){return aV(cC,cB)}else{if(2==cB.status){w(cC,cB);return false}else{throw cB.message}}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){cn(cC,-1);cg("#accessally-order-form-error-fast-message-"+cC).text(cE);cg("#accessally-order-form-error-fast-"+cC).show();cg("#accessally-order-form-fast-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(cE).show()}return true}function aV(cC,cB){cn(cC,3);var cE=cB.result;if("redirect"===cE.action){window.location=cE.url;return false}else{if("display"===cE.action){try{cg("#accessally-order-form-success-message-"+cC).html(cE.code);cg('[accessally-order-form-flex-success-message="'+cC+'"]').html(cE.code)}catch(cD){}aJ();cg("#accessally-order-form-fast-"+cC).removeClass("accessally-order-form-fast-active").hide();cg("#accessally-order-form-flex-regular-"+cC).show();cg("#accessally-order-form-step-3-"+cC).show();bA();return true}else{throw cE.message}}return true}function w(cC,cB){bk("fast-"+cC,cB)}cg(document).on("click touchend","[accessally-fast-cc-validate-button]",function(cC){var cB=cg(this).attr("accessally-fast-cc-validate-button");aG("fast-"+cB,function(cD){cg("#accessally-order-form-error-fast-message-"+cB).text(cD);cg("#accessally-order-form-error-fast-"+cB).show();cg("#accessally-order-form-fast-"+cB+' [accessally-order-form-flex-error="'+cB+'"]').text(cD).show()},function(cD){cl(cB,cD)})});function cl(cC,cG){var cD=cg("#accessally-cc-validate-nonce-fast-"+cC).val(),cH=cg("#accessally-cc-validate-pid-fast-"+cC).val(),cB=cg("#accessally-cc-validate-secret-fast-"+cC).val(),cF=cG?"yes":"no",cE={action:"accessally_get_fast_order_sca_info",nonce:cD,oid:cH,secret:cB,f:cF};if(cG){cg("#accessally-order-form-error-fast-"+cC).hide();cg("#accessally-order-form-fast-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').hide()}cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cJ){var cI=aC(cJ,cC,cG);if(cI){cg("#accessally-cc-validate-overlay-fast-"+cC).hide();cg("#accessally-order-form-wait-overlay-fast-"+cC).hide()}},error:function(cK,cI,cJ){if(cG){cn(cC,-1);cg("#accessally-order-form-error-fast-message-"+cC).text(accessally_script_object.SERVER_ERROR);cg("#accessally-order-form-error-fast-"+cC).show();cg("#accessally-order-form-fast-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-cc-validate-overlay-fast-"+cC).hide();cg("#accessally-order-form-wait-overlay-fast-"+cC).hide()}}})}function aC(cD,cC,cF){try{var cB=JSON.parse(cD),cH="fast-"+cC,cE=bU(cC);if("status" in cB){if(1==cB.status){ck(cH);cg("#accessally-cc-validate-overlay-"+cH).hide();return aV(cC,cB)}if(3===cE){ck(cH);return false}if(2==cB.status){if(cF){w(cC,cB)}return false}if(0==cB.status){ck(cH);return true}if(-2==cB.status){ck(cH);cn(cC,-1);cg("#accessally-order-form-error-fast-message-"+cC).text(accessally_script_object.SCA_FAILED);cg("#accessally-order-form-error-fast-"+cC).show();cg("#accessally-order-form-fast-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(accessally_script_object.SCA_FAILED).show();return true}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cG){if(cF){ck(cH);cn(cC,-1);cg("#accessally-order-form-error-fast-message-"+cC).text(cG);cg("#accessally-order-form-error-fast-"+cC).show();cg("#accessally-order-form-fast-"+cC+' [accessally-order-form-flex-error="'+cC+'"]').text(cG).show();return true}}return false}function h(cC,cE){if(false===cE){var cF=cC.offset();window.scrollTo(window.scrollX,cF.top-100)}else{var cB=cC.position(),cD=cE.scrollTop();cE.scrollTop(cD+cB.top-30)}}cg(document).on("touchend click",'a[aal-reset="yes"]',function(cD){cD.preventDefault();var cC=cg(this).parents("form[accessally-login-form]"),cB=cC.attr("accessally-login-form");cr(cB);return false});function cr(cB){aa(cg("#accessally-login-form-"+cB));cg("#accessally-login-error-message-"+cB).hide();cg("#accessally-login-reset-error-"+cB).hide();co(cg("#accessally-login-reset-"+cB))}cg(document).on("click touchend","[accessally-login-reset]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-reset");cr(cB);return false});cg(document).on("keypress","[accessally-login-reset-input]",function(cC){if(cC.keyCode==13){cC.preventDefault();var cB=cg(this).attr("accessally-login-reset-input");bJ(cB);return false}});cg(document).on("click touchend","[accessally-login-reset-submit]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-reset-submit");bJ(cB);return false});function bJ(cC){var cB=cg('[accessally-login-reset-input="'+cC+'"]'),cE=cB.val(),cD={action:"accessally_login_reset_password",user_login:cE,submit_nonce:accessally_script_object.webinar_nonce};if(!cE){cB.addClass("accessally-login-error-input");return}cg("#accessally-login-reset-"+cC+" .accessally-login-reset-wait-overlay").show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cD,success:function(cF){bx(cF,cC)},error:function(cH,cF,cG){cg("#accessally-login-reset-error-"+cC).text("Server error. Please contact site admin/owner.").show()},complete:function(cF,cG){cg("#accessally-login-reset-"+cC+" .accessally-login-reset-wait-overlay").hide()}});return false}function bx(cD,cC){try{var cB=U(cD);if("status" in cB){if(cB.status>0){cg("#accessally-login-notification-message-"+cC).text(cB.message).show();co(cg("#accessally-login-form-"+cC));aa(cg("#accessally-login-reset-"+cC))}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){if(typeof cE==="string"||cE instanceof String){cg("#accessally-login-reset-error-"+cC).html(cE).show()}else{cg("#accessally-login-reset-error-"+cC).text(accessally_script_object.UNKNOWN_ERROR).show()}}}cg(document).on("touchend click","[accessally-login-reset-back]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-reset-back");co(cg("#accessally-login-form-"+cB));aa(cg("#accessally-login-reset-"+cB));return false});function co(cB){cB.css("overflow","none").css("height",0).show();cB.animate({height:cB.outerHeight()+"px"},200,"swing",function(){cB.css("overflow","auto").css("height","auto")})}function aa(cB){cB.css("overflow","none").show();cB.animate({height:0},200,"swing",function(){cB.css("overflow","auto").hide()})}function bT(cB){aa(cg("#accessally-login-form-"+cB));cg("#accessally-login-error-message-"+cB).hide();cg("#accessally-login-one-use-error-"+cB).hide();co(cg("#accessally-login-one-use-"+cB))}cg(document).on("click touchend","[accessally-login-one-use]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-one-use");bT(cB);return false});cg(document).on("keypress","[accessally-login-one-use-input]",function(cC){if(cC.keyCode==13){cC.preventDefault();var cB=cg(this).attr("accessally-login-one-use-input");aM(cB);return false}});cg(document).on("click touchend","[accessally-login-one-use-submit]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-one-use-submit");aM(cB);return false});function aM(cD){var cC=cg('[accessally-login-one-use-input="'+cD+'"]'),cB=cg("#accessally-login-redirect-"+cD).val(),cF=cC.val(),cE={action:"accessally_login_send_one_use",user_email:cF,url:cB,submit_nonce:accessally_script_object.webinar_nonce};if(!cF){cC.addClass("accessally-login-error-input");return}cg("#accessally-login-one-use-error-"+cD).hide();cg("#accessally-login-one-use-"+cD+" .accessally-login-one-use-wait-overlay").show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cG){bj(cG,cD)},error:function(cI,cG,cH){cg("#accessally-login-one-use-error-"+cD).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cG,cH){cg("#accessally-login-one-use-"+cD+" .accessally-login-one-use-wait-overlay").hide()}});return false}function bj(cD,cC){try{var cB=U(cD),cF=cg("#accessally-login-snappy-status-"+cC).val();if("status" in cB){if(cB.status>0){if("only"===cF){cg("#accessally-login-one-use-notification-"+cC).text(cB.message).show()}else{cg("#accessally-login-notification-message-"+cC).text(cB.message).show();co(cg("#accessally-login-form-"+cC));aa(cg("#accessally-login-one-use-"+cC))}}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){if(typeof cE==="string"||cE instanceof String){cg("#accessally-login-one-use-error-"+cC).html(cE).show()}else{cg("#accessally-login-one-use-error-"+cC).text(accessally_script_object.UNKNOWN_ERROR).show()}}}cg(document).on("touchend click","[accessally-login-one-use-back]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-one-use-back");co(cg("#accessally-login-form-"+cB));aa(cg("#accessally-login-one-use-"+cB));return false});function ar(cB){aa(cg("#accessally-login-snappy-"+cB));cg("#accessally-login-one-use-error-"+cB).hide();co(cg("#accessally-login-one-use-"+cB))}cg(document).on("click touchend","[accessally-login-snappy-submit]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-snappy-submit");ar(cB);return false});cg(document).on("change propertychange keypress input paste",".accessally-login-error-input",function(cC){var cB=cg(this);if(cB.val().length>0){cB.removeClass("accessally-login-error-input")}});cg(document).on("keypress","[accessally-login-set-pass-input]",function(cC){if(cC.keyCode==13){cC.preventDefault();var cB=cg(this).attr("accessally-login-set-pass-input");cw(cB);return false}});cg(document).on("click touchend","[accessally-login-set-pass-submit]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-set-pass-submit");cw(cB);return false});function cw(cC){var cB=cg('[accessally-login-set-pass-login="'+cC+'"]').val(),cF=cg('[accessally-login-set-pass-key="'+cC+'"]').val(),cD=cg('[accessally-login-set-pass-input="'+cC+'"]'),cG=cD.val(),cE={action:"accessally_login_set_new_password",login:cB,key:cF,pass:cG,submit_nonce:accessally_script_object.webinar_nonce};if(!cG){cD.addClass("accessally-login-error-input");return}cg("#accessally-login-set-pass-"+cC+" .accessally-login-set-pass-wait-overlay").show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cH){bd(cH,cC)},error:function(cJ,cH,cI){cg("#accessally-login-set-pass-"+cC).hide();cg("#accessally-login-reset-"+cC).show();cg("#accessally-login-reset-error-"+cC).text(accessally_script_object.SERVER_ERROR).show()},complete:function(cH,cI){cg("#accessally-login-set-pass-"+cC+" .accessally-login-set-pass-wait-overlay").hide()}});return false}function bd(cD,cC){try{var cB=U(cD);if("status" in cB){if(cB.status>0){cg("#accessally-login-notification-message-"+cC).text(cB.message).show();aa(cg("#accessally-login-set-pass-"+cC));co(cg("#accessally-login-form-"+cC))}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){cg("#accessally-login-set-pass-"+cC).hide();cg("#accessally-login-reset-"+cC).show();cg("#accessally-login-reset-error-"+cC).html(cE).show()}}cg(document).on("touchend click","[accessally-login-set-pass-back]",function(cC){cC.preventDefault();var cB=cg(this).attr("accessally-login-set-pass-back");aa(cg("#accessally-login-set-pass-"+cB));co(cg("#accessally-login-form-"+cB));return false});cg(document).on("submit","form.accessally-order-autocomplete",function(cB){cB.preventDefault();return false});function L(cD,cG){var cB,cF,cE,cC=0;for(;cC<cD.length;++cC){cB=cg(cD[cC]);cE=cG;cF=cB.attr("accessally-param");cF=cF.split("|");if(cF.length>1){cE=cE.replace(/--prefix--/g,cF[0]);cE=cE.replace(/--ordinal--/g,cF[1])}cB.after(cE);cB.remove()}}function aR(cB,cC){L(cg(".accessally-team-add-child-"+cB),cC.add);L(cg(".accessally-team-list-child-"+cB),cC.list);L(cg(".accessally-team-num-remaining-"+cB),cC.remaining);L(cg(".accessally-team-num-total-"+cB),cC.total)}function aT(cC,cD){try{var cB=JSON.parse(cC);if("status" in cB){if("success"===cB.status){aR(cD,cB.code);if("message" in cB&&cB.message){alert(cB.message)}}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){alert(cE)}}cg(document).on("change",".accessally-team-add-input-error",function(cB){cg(this).removeClass("accessally-team-add-input-error")});function W(cC){var cB=true;cC.find(".accessally-required-input").each(function(cE,cF){var cD=cg(cF),cG=cD.val();if(cG.length<=0){cD.addClass("accessally-team-add-input-error");cB=false}});return cB}cg(document).on("click touchend","[accessally-team-add-child]",function(cE){var cG=cg(this),cF=cG.attr("accessally-team-add-child"),cJ=cG.attr("accessally-team-id"),cK=cg("#accessally-team-add-child-container-"+cF),cH=cG.attr("accessally-warning"),cI=cd(cK),cB=W(cK);if(!cB){return false}if(cH){var cD=confirm(cH);if(cD!==true){cE.preventDefault();return false}}var cC={action:"accessally_team_add_client",input:cI,team:cJ,nonce:accessally_script_object.webinar_nonce};cg('[accessally-team-add-child-wait="'+cJ+'"]').show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cC,success:function(cL){aT(cL,cJ);aq(cg("#accessally-team-add-child-container-"+cF),cK.find('[accessally-field="first-name"]').val(),cK.find('[accessally-field="last-name"]').val(),cK.find('[accessally-field="email"]').val());cg('[accessally-team-add-child-wait="'+cJ+'"]').hide()},error:function(cN,cL,cM){alert(accessally_script_object.SERVER_ERROR);cg('[accessally-team-add-child-wait="'+cJ+'"]').hide()}})});cg(document).on("click touchend","[accessally-team-client-operation]",function(cH){var cG=cg(this),cI=cG.attr("accessally-team-client-operation"),cD=cG.attr("accessally-warning"),cE={action:"accessally_team_client_operation",p:cI,nonce:accessally_script_object.webinar_nonce},cF=cI.split("|"),cC;if(cD){var cB=confirm(cD);if(cB!==true){cH.preventDefault();return false}}if(cF.length>0){cC=cF[0]}cg('[accessally-team-list-child-wait="'+cC+'"]').show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cJ){aT(cJ,cC);cg('[accessally-team-list-child-wait="'+cC+'"]').hide()},error:function(cL,cJ,cK){alert(accessally_script_object.SERVER_ERROR);cg('[accessally-team-list-child-wait="'+cC+'"]').hide()}})});function b8(cD,cC){try{var cB=JSON.parse(cD);if("status" in cB){if("success"===cB.status){if("message" in cB&&cB.message){alert(cB.message)}cC.hide()}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cE){alert(cE)}}cg(document).on("click touchend","[accessally-team-parent-operation]",function(cH){var cG=cg(this),cI=cG.attr("accessally-team-parent-operation"),cD=cG.attr("accessally-warning"),cE={action:"accessally_team_parent_operation",p:cI,nonce:accessally_script_object.webinar_nonce},cF=cI.split("|"),cB;if(cD){var cC=confirm(cD);if(cC!==true){cH.preventDefault();return false}}if(cF.length>3){cB=cF[3]}cg("#accessally-team-interaction-wait-"+cB).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cJ){b8(cJ,cG);cg("#accessally-team-interaction-wait-"+cB).hide()},error:function(cL,cJ,cK){alert(accessally_script_object.SERVER_ERROR);cg("#accessally-team-interaction-wait-"+cB).hide()}})});function af(cE,cF,cI,cD,cC,cH){try{var cB=JSON.parse(cE);if("status" in cB){if("success"===cB.status){cg("#accessally-team-interaction-wait-progress-"+cD).text(cB.progress).show();if("complete" in cB&&"yes"===cB.complete){if("message" in cB&&cB.message){alert(cB.message)}aR(cF,cB.code);cC.hide();cg("#accessally-team-interaction-wait-"+cD).hide()}else{bi(cF,cI,cD,cC,cH+1)}}else{throw cB.message}}else{throw accessally_script_object.UNKNOWN_ERROR}}catch(cG){alert(cG);cg("#accessally-team-interaction-wait-"+cD).hide()}}function bi(cD,cG,cC,cB,cF){var cE={action:"accessally_team_teamwide_operation",p:cG,offset:cF,nonce:accessally_script_object.webinar_nonce};cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cH){af(cH,cD,cG,cC,cB,cF)},error:function(cJ,cH,cI){alert(accessally_script_object.SERVER_ERROR);cg("#accessally-team-interaction-wait-"+cC).hide()}})}cg(document).on("click touchend","[accessally-team-teamwide-operation]",function(cH){var cG=cg(this),cI=cG.attr("accessally-team-teamwide-operation"),cE=cG.attr("accessally-warning"),cF=cI.split("|"),cD,cB;if(cE){var cC=confirm(cE);if(cC!==true){cH.preventDefault();return false}}if(cF.length<4){return}cD=cF[0];cB=cF[3];cg("#accessally-team-interaction-wait-progress-"+cB).text("0%").show();cg("#accessally-team-interaction-wait-"+cB).show();bi(cD,cI,cB,cG,0)});cg(document).on("click touchend","[accessally-team-batch-import-button]",function(cC){var cB=cg(this).attr("accessally-team-batch-import-button");cg('[accessally-team-batch-import-file-input="'+cB+'"]').trigger("click")});function e(cC,cF){var cE={firstname:-1,lastname:-1,email:-1},cB,cD;if(cC===null){throw accessally_script_object.INVALID_FILE_FORMAT}for(cD in cF){cE["c"+cF[cD]]=-1}for(cD=0;cD<cC.length;++cD){cB=cC[cD].toLowerCase();cB=cB.replace(/\s/g,"");cB=cB.replace(/-/g,"");cB=cB.replace(/_/g,"");if(cB in cE){cE[cB]=cD}}for(cD in cE){if(cE[cD]<0){return false}}return cE}function y(cG,cE,cC,cB){var cD,cF='<tr class="accessally-team-batch-import-row accessally-team-batch-import-row-'+cC+'">';for(cD in cE){cF+='<td class="accessally-team-batch-import-list-'+cD+'-column" accessally-field="'+cD+'">'+cj(cG[cE[cD]])+"</td>"}cF+='<td class="accessally-team-batch-import-list-status-column"></td>';cF+="</tr>";cB.append(cF)}cg(document).on("change","[accessally-team-batch-import-file-input]",function(cG){var cI=cg(this),cC=cI.attr("accessally-team-batch-import-file-input"),cF=cI.attr("accessally-team-batch-import-additional-inputs"),cH=[],cE=cG.target.files[0],cD=cg("#accessally-team-batch-import-wait-"+cC);if(cF.length>0){cH=cF.split(",")}if(cE){cD.show();var cB=new FileReader();cB.onload=function(cM){cg(".accessally-team-batch-import-row-"+cC).remove();try{var cN=cg.csv.toArrays(cM.target.result),cQ=cg("#accessally-team-batch-import-list-"+cC),cR=0,cS=0,cK=0,cO=0,cP,cL;if(cN.length<1){throw accessally_script_object.INVALID_FILE_FORMAT}for(cO=0;cO<cN.length;++cO){if(0!==cN[cO][0].indexOf("//")){break}}cP=e(cN[cO],cH);if(!cP){cP={firstname:0,lastname:1,email:2};for(cL=0;cL<cH.length;++cL){cP["c"+cH[cL]]=3+cL}cS=cH.length+2}else{++cO;for(cL in cP){cS=Math.max(cS,cP[cL])}}cK=cP.email;for(cL=cO;cL<cN.length;cL++){var cJ=cN[cL];if(null!==cJ){if(!cJ[cK]){continue}if(cJ.length>cS){++cR;y(cJ,cP,cC,cQ)}}}if(cR<=0){throw accessally_script_object.INVALID_FILE_FORMAT}cg("#accessally-team-batch-import-file-select-"+cC).hide();cg("#accessally-team-batch-import-process-"+cC).show();cD.hide()}catch(cM){cD.hide();alert(cM)}cI.val("")};cB.readAsText(cE)}});function b5(cC,cB,cG){var cF=cg(".accessally-team-batch-import-row-"+cB),cE={action:"accessally_team_batch_import_client",tid:cC,is_last:"no",nonce:accessally_script_object.webinar_nonce},cD;if(cF.length<=cG+1){cE.is_last="yes"}if(cF.length>cG){cD=cg(cF[cG]);cE.input=cd(cD)}cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cI){var cH=JSON.parse(cI);try{if("status" in cH){if(cH.status==="error"){throw cH.message}if(cD){cD.find(".accessally-team-batch-import-list-status-column").html('<div class="accessally-team-batch-import-list-status-success"></div>');aq(cg("#accessally-team-batch-import-process-"+cB),cD.find('[accessally-field="firstname"]').text(),cD.find('[accessally-field="lastname"]').text(),cD.find('[accessally-field="email"]').text())}}else{throw accessally_script_object.INVALID_DATA}}catch(cJ){if(cD){cD.find(".accessally-team-batch-import-list-status-column").html('<div class="accessally-team-batch-import-list-status-error"></div>')}else{alert(cJ)}}if("code" in cH){aR(cC,cH.code)}++cG;if(cF.length<=cG){cg("#accessally-team-batch-import-process-start-"+cB).hide();cg('[accessally-team-add-child-wait="'+cC+'"]').hide();return}b5(cC,cB,cG)}})}cg(document).on("click touchend","[accessally-team-batch-import-process]",function(cG){var cF=cg(this),cH=cF.attr("accessally-team-batch-import-process"),cE=cH.split("|"),cD=cF.attr("accessally-warning"),cB=confirm(cD),cC;if(true!==cB){return}if(cE.lengh<2){return}cC=cE[0];cg('[accessally-team-add-child-wait="'+cC+'"]').show();b5(cC,cE[1],0)});cg(document).on("click touchend","[accessally-team-self-register]",function(cE){var cG=cg(this),cF=cG.attr("accessally-team-self-register"),cJ=cG.attr("accessally-team-id"),cK=cg("#accessally-team-self-register-container-"+cF),cH=cG.attr("accessally-warning"),cI=cd(cK),cB=W(cK);if(!cB){return false}if(cH){var cD=confirm(cH);if(cD!==true){cE.preventDefault();return false}}cg("#accessally-team-self-registration-error-"+cF).hide();var cC={action:"accessally_team_self_register",input:cI,team:cJ,nonce:accessally_script_object.webinar_nonce};cg('[accessally-team-self-register-wait="'+cJ+'"]').show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cC,success:function(cL){bt(cL,cF,cJ);aq(cg("#accessally-team-self-register-container-"+cF),cK.find('[accessally-field="first-name"]').val(),cK.find('[accessally-field="last-name"]').val(),cK.find('[accessally-field="email"]').val())},error:function(cN,cL,cM){cg("#accessally-team-self-register-error-"+cF).text(accessally_script_object.SERVER_ERROR);cg('[accessally-team-self-register-wait="'+cJ+'"]').hide()}})});function bt(cD,cC,cE){try{var cB=JSON.parse(cD);if("status" in cB){if("success"===cB.status){window.location.href=cB.url}else{throw cB.message}}else{throw cj(accessally_script_object.UNKNOWN_ERROR)}}catch(cF){cg("#accessally-team-self-register-error-"+cC).html(cF).show();cg('[accessally-team-self-register-wait="'+cE+'"]').hide()}}cg(document).on("change",".accessally-profile-update-error-input input",function(cB){cg(this).parents(".accessally-profile-update-error-input").removeClass("accessally-profile-update-error-input")});cg(document).on("submit","[accessally-profile-update-form]",function(){var cF=cg(this),cB=cF.attr("accessally-profile-update-form"),cE=cF.find("[accessally-profile-update-field-required]"),cD=true,cC,cG;cE.each(function(cJ,cK){var cI=cg(cK),cH=cI.attr("accessally-profile-update-field-required");if(cI.val().length>0){return}cg("#accessally-profile-update-edit-"+cH+"-row-"+cB).addClass("accessally-profile-update-error-input");cD=false});cC=cF.find('input[name="new_pwd"]');if(cC.length>0){cG=cC.val();if(cG.length>0){if(cG!==cF.find('input[name="confirm_pwd"]').val()){cg("#accessally-profile-update-confirm-pwd-row-"+cB).addClass("accessally-profile-update-error-input");cD=false}if(cF.find('input[name="old_pwd"]').val().length<=0){cg("#accessally-profile-update-existing-pwd-row-"+cB).addClass("accessally-profile-update-error-input");cD=false}}}return cD});var b9={};cg(document).on("click touchend",".accessally-order-form-pricing-detail-price, .accessally-order-form-pricing-detail-postfix",function(cD){var cC=cg(this).parent(),cB=cC.find(".accessally-order-form-pricing-detail-overlay-container");cB.css("display","block");if(cB in b9){clearTimeout(b9[cB])}b9[cB]=setTimeout(function(){cB.animate({opacity:0},300,function(){cB.css({display:"none",opacity:1})})},3000)});var bv="----accessaly-output-start----",aL="----accessaly-output-end----";function U(cD){var cC=cD.indexOf(bv),cE,cB;if(cC<0){throw"Invalid response. No start placeholder"}cC+=bv.length;cE=cD.indexOf(aL,cC);if(cE<0){throw"Invalid response. No end placeholder"}cB=JSON.parse(cD.substring(cC,cE));return cB}cg(document).on("change",".accessally-order-form-condition-error .accessally-order-form-flex-label-checkbox-input[accessally-flex-required-input]",function(){var cB=cg(this).attr("accessally-flex-required-input");cg("#accessally-order-form-flex-label-checkbox-container-"+cB).removeClass("accessally-order-form-condition-error")});cg(document).on("change",'input[type="text"].accessally-order-form-error-input[accessally-flex-required-input]',function(){cg(this).removeClass("accessally-order-form-error-input")});function a5(cC){var cB=true;cC.find(".accessally-order-form-flex-label-checkbox-input[accessally-flex-required-input]").each(function(cF,cG){var cD=cg(cG),cE;if(!cD.is(":checked")){cE=cD.attr("accessally-flex-required-input");cg("#accessally-order-form-flex-label-checkbox-container-"+cE).addClass("accessally-order-form-condition-error");cB=false}});cC.find('input[type="text"][accessally-flex-required-input]').each(function(cE,cF){var cD=cg(cF);if(!cD.is(":visible")){return}if(cD.val().length<=0){cD.addClass("accessally-order-form-error-input");cB=false}});cC.find(".accessally-order-form-flex-state-selection[accessally-flex-required-input]").each(function(cD,cG){var cF={data:{},"error-element":[]},cE;cF=cq(cg(cG),cF);if(cF["error-element"].length>0){cB=false;for(cE=0;cE<cF["error-element"].length;++cE){cF["error-element"][cE].addClass("accessally-order-form-error-input")}}});return cB}function ai(cB,cD,cC){var cE=true;cg(".accessally-order-form-flex-"+cD+"-container-"+cB+"-"+cC).each(function(cF,cG){if(!a5(cg(cG))){cE=false}});cg(".accessally-order-form-flex-"+cD+"-container-"+cB+"-general").each(function(cF,cG){if(!a5(cg(cG))){cE=false}});return cE}function bA(){cg("[accessally-order-form-flex-script]:visible").each(function(cC,cE){var cB=cg(cE),cD=cB.attr("accessally-order-form-flex-script");cB.attr("accessally-order-form-flex-script","");cB.html(cD)})}bA();cg(document).on("click touchend",".accessally-order-form-flex-label-checkbox-content a",function(cB){cg(this).attr("target","_blank")});cg(document).on("click touchend","[accessally-element-add-class]",function(){var cB=cg(this).attr("accessally-element-add-class"),cC=cB.split("|");if(cC.length>1){cg(cC[0]).addClass(cC[1])}});cg(document).on("click touchend","[accessally-element-remove-class]",function(){var cB=cg(this).attr("accessally-element-remove-class"),cC=cB.split("|");if(cC.length>1){cg(cC[0]).removeClass(cC[1])}});function bw(cE,cG,cC,cD){try{var cB=JSON.parse(cD);if("status" in cB){if(1==cB.status){if("display"===cB.action){cg('[accessally-custom-operation-submit-success="'+cG+'"]').html(cB.code).show();return true}if("redirect"===cB.action){window.location.href=cB.url;return false}}else{if("message" in cB){throw cB.message}throw accessally_script_object.UNKNOWN_ERROR}}}catch(cF){cg("#accessally-custom-operation-action-button-error-"+cC).text(cF).show();cE.attr("accessally-submitted","").show()}return true}cg(document).on("click touchend","[accessally-custom-operation-submit-button]",function(cI){var cJ=cg(this),cK=cJ.attr("accessally-custom-operation-submit-button"),cF=cJ.attr("accessally-submitted"),cL=cJ.parent("[accessally-custom-operation-submit]"),cM=cL.attr("accessally-custom-operation-confirm"),cC=cL.attr("accessally-custom-operation-submit"),cD=cC.split("|"),cB=cg('[accessally-custom-operation-submit-button="'+cK+'"]'),cE={action:"accessally_custom_field_button_operation",opid:cK},cH,cG;if(cF){cI.preventDefault();return false}if(cD.length!==3){cI.preventDefault();return false}if(cM){if(confirm(cM)!==true){cI.preventDefault();return false}}cH=cD[0];cG=cD[2];cE.nonce=cG;cB.attr("accessally-submitted","yes");cB.hide();cg("#accessally-custom-operation-action-button-error-"+cH).hide();cg("#accessally-custom-operation-action-button-wait-"+cH).show();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:cE,success:function(cN){var cO=bw(cB,cK,cH,cN);if(cO){cg("#accessally-custom-operation-action-button-wait-"+cH).hide()}},error:function(cP,cN,cO){cg("#accessally-custom-operation-action-button-error-"+cH).text(accessally_script_object.SERVER_ERROR).show();cg("#accessally-custom-operation-action-button-wait-"+cH).hide()}});return false});cg(document).on("keypress",".accessally-space-click",function(cB){if(cB.keyCode==13||cB.keyCode==32){cB.preventDefault();cg(this).trigger("click");return false}});function aK(){var cB=navigator.userAgent;if(cB.indexOf("FBAN")>=0||cB.indexOf("FBAV")>=0||cB.indexOf("Instagram")>=0){cg(".accessally-order-form-flex-paypal-express-start-block").hide();cg(".accessally-order-form-paypal-express-start-block").hide();cg(".accessally-order-form-paypal-express-fb-warning-block").show()}}aK();cg(document).on("submit",".accessally-optin-form",function(cB){cg(this).find(".accessally-optin-wait-overlay").show();return true});function aJ(){try{if(typeof window.Event==="function"){var cB=new Event("ambitionallyrefresh");document.dispatchEvent(cB)}else{if(typeof document.createEvent==="function"){var cB=document.createEvent("Event");cB.initEvent("ambitionallyrefresh",true,true);document.dispatchEvent(cB)}}}catch(cC){}}var cf=false;function j(cB,cD){var cE=document.activeElement,cC=false;if(!cf){cf=cg('<textarea style="position:absolute;top:0;left:-99999px;width:0;height:0"></textarea>')}cf.show();cB.append(cf);cf.val(cD);cf[0].focus();cf[0].setSelectionRange(0,cD.length);try{cC=document.execCommand("copy")}catch(cF){}if(cE&&typeof cE.focus==="function"){cE.focus()}cf.val("").hide();return cC}cg(document).on("click touchend",".accessally-frontend-quote-copy-button",function(){var cD=cg(this),cC=cD.parents(".accessally-frontend-quote-block"),cB=cC.find(".accessally-frontend-configure-quote"),cE;if(cB.length>0){cE=cB.text();if(cE.length>0){if(j(cC,cE)){cC.find(".accessally-frontend-quote-copy-success").show();setTimeout(function(){cC.find(".accessally-frontend-quote-copy-success").hide()},2000)}else{cC.find(".accessally-frontend-quote-copy-fail").show();setTimeout(function(){cC.find(".accessally-frontend-quote-copy-fail").hide()},2000)}}}});function aB(){var cB=cg(".accessally-add-datepicker-input");if(cB.length>0){cB.datepicker({dateFormat:"yy/mm/dd",beforeShow:function(cC,cD){cg("#ui-datepicker-div").addClass("accessally-datepicker")}});cB.removeClass("accessally-add-datepicker-input")}}aB();cg(document).on("click touchend","[accessally-affiliate-details-update-button]",function(cB){let param_str=cg(this).attr("accessally-affiliate-details-update-button"),params=param_str.split("|");if(params.length<1){return}let ordinal=params[0];x(ordinal,param_str)});function x(cB,cC){let start_date=cg("#accessally-affiliate-start-date-details-"+cB).val(),end_date=cg("#accessally-affiliate-end-date-details-"+cB).val(),$content_container=cg("#accessally-affilaite-details-"+cB),data={action:"accessally_refresh_affiliate_details",start_date:start_date,end_date:end_date,params:cC,nonce:accessally_script_object.webinar_nonce};$content_container.hide();cg.ajax({type:"POST",url:accessally_script_object.ajax_url,data:data,success:function(cD){try{let result=JSON.parse(cD);if("status" in result){if(result.status==="error"){throw result.message}$content_container.after(result.code);$content_container.remove()}else{throw accessally_script_object.INVALID_DATA}}catch(cE){alert(cE)}}});return false}cg(document).on("touchend click","[toggle-target]",function(cC){var cB=cg(this).attr("toggle-target");cg(cB).prop("checked",!cg(cB).prop("checked")).change()});cg(document).on("change propertychange keyup input paste","[toggle-element]",function(cG){var cF=cg(this),cC=cF.attr("toggle-element"),cE=cg(cC),cD=cF.attr("toggle-class"),cB=cF.prop("checked");if(cB){cE.addClass(cD);h(cg(cC),false)}else{cE.removeClass(cD)}cg("[accessally-edit-input]:focus").focusout()})});